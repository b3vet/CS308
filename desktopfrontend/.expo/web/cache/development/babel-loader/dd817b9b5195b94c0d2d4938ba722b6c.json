{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/admin/ProductManager/AddProduct.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\n\nfunction AddProduct(props) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var name = useFormInput('');\n  var material = useFormInput('');\n  var color = useFormInput('');\n  var description = useFormInput('');\n  var productionCost = useFormInput('');\n  var stock = useFormInput('');\n  var warranty = useFormInput('');\n  var price = useFormInput('');\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      category = _useState4[0],\n      setCategory = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      result = _useState6[0],\n      setResult = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      image = _useState8[0],\n      setImage = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      error = _useState10[0],\n      setError = _useState10[1];\n\n  var handleSubmit = function handleSubmit(e) {\n    setError(null);\n    setLoading(true);\n    e.preventDefault();\n    var form_data = new FormData();\n    form_data.append('image', image, image.name);\n    form_data.append('name', name.value);\n    form_data.append('material', material.value);\n    form_data.append('productionCost', parseInt(productionCost.value));\n    form_data.append('stock', parseInt(stock.value));\n    form_data.append('warranty', parseInt(warranty.value));\n    form_data.append('price', parseInt(price.value));\n    form_data.append('caid', parseInt(category));\n    form_data.append('color', color.value);\n    form_data.append('description', description.value);\n    var url = 'http://127.0.0.1:8000/api/products/';\n    axios.post(url, form_data, {\n      headers: {\n        'content-type': 'multipart/form-data'\n      }\n    }).then(function (res) {\n      console.log(res.data);\n      setResult(res.data.success);\n      setLoading(false);\n    }).catch(function (err) {\n      if (err.response) {\n        setError(err.response.data);\n      } else {\n        setError(err.message);\n      }\n\n      setLoading(false);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 5\n    }\n  }, \"Register\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }), React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, \"Product Name\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }), React.createElement(\"input\", _extends({\n    type: \"text\"\n  }, name, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, \"Material\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), React.createElement(\"input\", _extends({\n    type: \"text\"\n  }, material, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, \"Color\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 14\n    }\n  }), React.createElement(\"input\", _extends({\n    type: \"text\"\n  }, color, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"Stock\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 14\n    }\n  }), React.createElement(\"input\", _extends({\n    type: \"number\"\n  }, stock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, \"Warranty\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }), React.createElement(\"input\", _extends({\n    type: \"numbe\"\n  }, warranty, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, \"Production Cost\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 24\n    }\n  }), React.createElement(\"input\", _extends({\n    type: \"number\"\n  }, productionCost, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, \"Price\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 14\n    }\n  }), React.createElement(\"input\", _extends({\n    type: \"number\"\n  }, price, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, \"Description\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 20\n    }\n  }), React.createElement(\"input\", _extends({\n    type: \"text\"\n  }, description, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"Category\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), React.createElement(\"select\", {\n    value: category,\n    onChange: function onChange(event) {\n      setCategory(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"SELECT A CATEGORY\"), React.createElement(\"option\", {\n    value: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, \"Wedding Rings\"), React.createElement(\"option\", {\n    value: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"Engagement Rings\"), React.createElement(\"option\", {\n    value: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Necklaces\"), React.createElement(\"option\", {\n    value: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, \"Bracelets\"), React.createElement(\"option\", {\n    value: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, \"Earrings\"))), React.createElement(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, \"Image\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 14\n    }\n  }), React.createElement(\"input\", {\n    type: \"file\",\n    onChange: function onChange(e) {\n      setImage(e.target.files[0]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  })), result && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n    style: {\n      color: 'green'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 20\n    }\n  }, result + \"\\n\")), error && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, error == 226 ? \"This product name already exists!\\n\" : \"\")), error && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, error != 226 && error.error ? error.error : \"\"), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 105\n    }\n  })), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 115\n    }\n  }), React.createElement(\"input\", {\n    type: \"button\",\n    value: loading ? 'Loading...' : 'Add Product',\n    onClick: handleSubmit,\n    disabled: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 119\n    }\n  }));\n}\n\nvar useFormInput = function useFormInput(initialValue) {\n  var _useState11 = useState(initialValue),\n      _useState12 = _slicedToArray(_useState11, 2),\n      value = _useState12[0],\n      setValue = _useState12[1];\n\n  var handleChange = function handleChange(e) {\n    setValue(e.target.value);\n  };\n\n  return {\n    value: value,\n    onChange: handleChange\n  };\n};\n\nexport default AddProduct;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/admin/ProductManager/AddProduct.js"],"names":["React","useState","axios","AddProduct","props","loading","setLoading","name","useFormInput","material","color","description","productionCost","stock","warranty","price","category","setCategory","result","setResult","image","setImage","error","setError","handleSubmit","e","preventDefault","form_data","FormData","append","value","parseInt","url","post","headers","then","res","console","log","data","success","catch","err","response","message","marginTop","event","target","files","initialValue","setValue","handleChange","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction AddProduct(props) {\r\n  const [loading, setLoading] = useState(false);\r\n  const name = useFormInput('');\r\n  const material = useFormInput('');\r\n  const color = useFormInput('');\r\n  const description = useFormInput('');\r\n  const productionCost = useFormInput('');\r\n  const stock = useFormInput('');\r\n  const warranty = useFormInput('');\r\n  const price = useFormInput('');\r\n  const [category, setCategory] = useState(null);\r\n  const [result, setResult] = useState(null);\r\n  const [image, setImage] = useState(null)\r\n  const [error, setError] = useState(null);\r\n \r\n  const handleSubmit = (e) => {\r\n    setError(null);\r\n    setLoading(true);\r\n    e.preventDefault();\r\n    //console.log(this.state);\r\n    let form_data = new FormData();\r\n    form_data.append('image', image, image.name);\r\n    form_data.append('name', name.value);\r\n    form_data.append('material', material.value);\r\n    form_data.append('productionCost', parseInt(productionCost.value));\r\n    form_data.append('stock', parseInt(stock.value));\r\n    form_data.append('warranty', parseInt(warranty.value));\r\n    form_data.append('price', parseInt(price.value));\r\n    form_data.append('caid', parseInt(category));\r\n    form_data.append('color', color.value);\r\n    form_data.append('description', description.value);\r\n    let url = 'http://127.0.0.1:8000/api/products/';\r\n    axios.post(url, form_data, {\r\n      headers: {\r\n        'content-type': 'multipart/form-data'\r\n      }\r\n    })\r\n        .then(res => {\r\n          console.log(res.data);\r\n          setResult(res.data.success)\r\n          setLoading(false);\r\n        })\r\n        .catch(err => {\r\n          if(err.response) {\r\n            setError(err.response.data)\r\n          }\r\n          else {\r\n            setError(err.message)\r\n          }\r\n          \r\n          setLoading(false);\r\n        })\r\n  }\r\n \r\n  return (\r\n    <div>\r\n      Register<br /><br />\r\n      <div>\r\n        Product Name<br />\r\n        <input type=\"text\" {...name}/>\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Material<br />\r\n        <input type=\"text\" {...material} />\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Color<br />\r\n        <input type=\"text\" {...color}/>\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Stock<br />\r\n        <input type=\"number\" {...stock} />\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Warranty<br />\r\n        <input type=\"numbe\" {...warranty} />\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Production Cost<br />\r\n        <input type=\"number\" {...productionCost} />\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Price<br />\r\n        <input type=\"number\" {...price} />\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Description<br />\r\n        <input type=\"text\" {...description}/>\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Category<br />\r\n        <select value={category} onChange={(event) => {setCategory(event.target.value);}}>\r\n            <option value=\"\">SELECT A CATEGORY</option>\r\n            <option value={4}>Wedding Rings</option>\r\n            <option value={5}>Engagement Rings</option>\r\n            <option value={6}>Necklaces</option>\r\n            <option value={7}>Bracelets</option>\r\n            <option value={8}>Earrings</option>\r\n          </select>\r\n      </div>\r\n      <div style={{ marginTop: 10 }}>\r\n        Image<br />\r\n        <input type=\"file\" onChange={(e) => {setImage(e.target.files[0]);}}/>\r\n      </div>\r\n      {result && <><small style={{ color: 'green' }}>{result+\"\\n\"}</small></>}\r\n      {error && <><small style={{ color: 'red' }}>{error==226 ? \"This product name already exists!\\n\" : \"\"}</small></>}\r\n      {error && <><small style={{ color: 'red' }}>{error!=226 && error.error ? error.error : \"\"}</small><br /></>}<br />\r\n      <input type=\"button\" value={loading ? 'Loading...' : 'Add Product'} onClick={handleSubmit} disabled={loading} /><br />\r\n    </div>\r\n  );\r\n}\r\nconst useFormInput = initialValue => {\r\n  const [value, setValue] = useState(initialValue);\r\n \r\n  const handleChange = e => {\r\n    setValue(e.target.value);\r\n  }\r\n  return {\r\n    value,\r\n    onChange: handleChange\r\n  }\r\n}\r\n \r\nexport default AddProduct;"]},"metadata":{},"sourceType":"module"}