{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Cart.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { getUser } from \"../utils/Common\";\nimport \"../css/Products.css\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport { Link, Redirect } from 'react-router-dom';\nimport Grid from '@material-ui/core/Grid';\nimport { Ripple } from 'react-spinners-css';\n\nfunction Cart(props) {\n  var _this = this;\n\n  var _useState = useState(getUser()),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      products = _useState4[0],\n      setProducts = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      totalPrice = _useState6[0],\n      setTotalPrice = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var submit = function submit() {};\n\n  var getData = function getData() {\n    setLoading(true);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/cart/',\n      data: {\n        uid: user.uid\n      }\n    }).then(function (response) {\n      setProducts(response.data.products);\n      setTotalPrice(response.data.total);\n      setLoading(false);\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n      }\n\n      setLoading(false);\n    });\n  };\n\n  var increaseQuantity = function increaseQuantity(product) {\n    setLoading(true);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/addtocart/',\n      data: {\n        cart: {\n          pid: product.pid,\n          uid: user.uid,\n          quantity: 1\n        },\n        pid: product.pid\n      }\n    }).then(function (response) {\n      console.log(response.data);\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        console.log(error.response.data);\n      } else {\n        console.log(error.message);\n      }\n    });\n    getData();\n  };\n\n  var removeFromCart = function removeFromCart(productHere) {\n    setLoading(false);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/removefromcart/',\n      data: {\n        cart: {\n          pid: productHere.pid,\n          quantity: 1,\n          uid: user.uid,\n          totalPrice: 0\n        }\n      }\n    }).then(function (response) {\n      console.log(response.data);\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n    getData();\n  };\n\n  useEffect(function () {\n    setLoading(true);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/cart/',\n      data: {\n        uid: user.uid\n      }\n    }).then(function (response) {\n      setProducts(response.data.products);\n      setTotalPrice(response.data.total);\n      setLoading(false);\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n      }\n\n      setLoading(false);\n    });\n  }, []);\n\n  if (loading) {\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 300\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }\n    }, React.createElement(Ripple, {\n      color: \"#111\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  if (products.length == 0) {\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 300\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 7\n      }\n    }, React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 8\n      }\n    }, \"Your cart is empty. You can add product by shopping.\"));\n  }\n\n  return React.createElement(Container, {\n    style: {\n      marginTop: 100\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }, React.createElement(Col, {\n    xs: 10,\n    style: {\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, \"My Cart\"), React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, \"  \", products.length, \" items\"), React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }\n  }, products.map(function (p) {\n    return React.createElement(Container, {\n      style: {\n        borderBottom: '2px solid rgb(50,50,50)',\n        paddingBottom: 30,\n        marginTop: 30\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 17\n      }\n    }, React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 19\n      }\n    }, React.createElement(Col, {\n      xs: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 21\n      }\n    }, React.createElement(\"img\", {\n      src: \"http://127.0.0.1:8000\" + p.image,\n      alt: \"Product's Image\",\n      style: {\n        height: 125,\n        width: 125\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 27\n      }\n    })), React.createElement(Col, {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-around',\n        flexDirection: 'column',\n        textAlign: 'left'\n      },\n      xs: 8,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 21\n      }\n    }, React.createElement(Link, {\n      style: {\n        color: 'black',\n        textDecoration: 'none',\n        fontSize: 24\n      },\n      to: \"/product/\" + p.pid,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }, p.name), React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'row',\n        justifyContent: 'space-between'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 25\n      }\n    }, React.createElement(\"p\", {\n      style: {\n        fontSize: 24,\n        fontWeight: 'bold'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 111\n      }\n    }, p.discountPrice, \" \\u20BA\"), React.createElement(\"p\", {\n      style: {\n        fontSize: 20\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 180\n      }\n    }, \"Quantity: \", p.quantity))), React.createElement(Col, {\n      xs: 2,\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'space-around'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 21\n      }\n    }, React.createElement(\"div\", {\n      className: \"pointed\",\n      onClick: function onClick() {\n        increaseQuantity(p);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 23\n      }\n    }, React.createElement(\"i\", {\n      style: {\n        height: 50,\n        width: 50,\n        borderRadius: 50,\n        border: '1px solid rgb(50,50,50)',\n        justifyContent: 'center',\n        alignItems: 'center',\n        display: 'flex'\n      },\n      class: \"fas fa-plus\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 87\n      }\n    })), React.createElement(\"div\", {\n      className: \"pointed\",\n      onClick: function onClick() {\n        removeFromCart(p);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 23\n      }\n    }, React.createElement(\"i\", {\n      style: {\n        height: 50,\n        width: 50,\n        borderRadius: 50,\n        border: '1px solid rgb(50,50,50)',\n        justifyContent: 'center',\n        alignItems: 'center',\n        display: 'flex'\n      },\n      class: p.quantity === 1 ? \"fas fa-trash\" : \"fas fa-minus\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 85\n      }\n    })))));\n  }))), React.createElement(Col, {\n    xs: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, React.createElement(Container, {\n    style: {\n      position: 'fixed',\n      border: '2px solid rgb(50,50,50)',\n      borderRadius: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, React.createElement(Row, {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'flex-start',\n      textAlign: 'left',\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }, React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 13\n    }\n  }, \"Price to Pay:\"), React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, totalPrice + 73, \"$\")), React.createElement(Row, {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'flex-start',\n      textAlign: 'left',\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, \"Products: \", totalPrice, \"$\"), React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, \"Shipment Fee: 73$\")), React.createElement(Row, {\n    style: {\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 11\n    }\n  }, React.createElement(Button, {\n    onClick: function onClick() {\n      return props.history.push(\"/purchase\");\n    },\n    variant: \"dark\",\n    size: \"lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 13\n    }\n  }, \"Place Order\"))))));\n}\n\nexport default Cart;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Cart.js"],"names":["React","useState","useEffect","axios","getUser","Container","Row","Col","Button","Tabs","Tab","Link","Redirect","Grid","Ripple","Cart","props","user","setUser","products","setProducts","totalPrice","setTotalPrice","loading","setLoading","submit","getData","method","url","data","uid","then","response","total","catch","error","console","log","increaseQuantity","product","cart","pid","quantity","message","removeFromCart","productHere","status","headers","display","flexDirection","alignItems","justifyContent","marginTop","length","textAlign","map","p","borderBottom","paddingBottom","image","height","width","color","textDecoration","fontSize","name","fontWeight","discountPrice","borderRadius","border","position","padding","history","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { getUser } from '../utils/Common';\r\nimport '../css/Products.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Tabs from 'react-bootstrap/Tabs'\r\nimport Tab from 'react-bootstrap/Tab'\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { Ripple } from 'react-spinners-css';\r\n\r\n\r\nfunction Cart(props) {\r\n\r\n    const [user,setUser] = useState(getUser())\r\n    const [products, setProducts] = useState([]);\r\n    const [totalPrice, setTotalPrice] = useState(0)\r\n    const [loading, setLoading] = useState(false)\r\n    \r\n    const submit = () => {\r\n\r\n    }\r\n\r\n    const getData = () => {\r\n      setLoading(true)\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://127.0.0.1:8000/api/cart/',\r\n            data: {\r\n                uid: user.uid,\r\n            }\r\n          }).then(\r\n            response => {\r\n              //console.log(response.data)\r\n              setProducts(response.data.products);\r\n              setTotalPrice(response.data.total)\r\n              setLoading(false)\r\n            }\r\n          ).catch(\r\n            error => {\r\n              if(error.response) {\r\n                console.log(error.response.data)\r\n              }\r\n              setLoading(false)\r\n            }\r\n          )\r\n    }\r\n    const increaseQuantity = (product) => {\r\n      setLoading(true)\r\n      axios({\r\n        method: 'post',\r\n        url: 'http://127.0.0.1:8000/api/addtocart/',\r\n        data: {\r\n          cart: {\r\n            pid:product.pid,\r\n            uid: user.uid,\r\n            quantity: 1,\r\n          },\r\n          pid: product.pid,\r\n        }\r\n      }).then(\r\n        response => {\r\n          \r\n          console.log(response.data)\r\n          \r\n        }\r\n      ).catch(\r\n        error => {\r\n          setLoading(false);\r\n          if (error.response) {\r\n            \r\n            console.log(error.response.data)\r\n          }\r\n          else {\r\n              \r\n              console.log(error.message)\r\n          }\r\n        }\r\n      )\r\n      getData()\r\n      \r\n    }\r\n    const removeFromCart = (productHere) => {\r\n      setLoading(false)\r\n      axios({\r\n        method: 'post',\r\n        url: 'http://127.0.0.1:8000/api/removefromcart/',\r\n        data: {\r\n            cart: {\r\n              pid:productHere.pid,\r\n              quantity: 1,\r\n              uid: user.uid,\r\n              totalPrice: 0\r\n            }\r\n          },\r\n      }).then(\r\n        response => {\r\n          console.log(response.data)\r\n          \r\n        }\r\n        ).catch(\r\n          error => {\r\n            \r\n            if (error.response) {\r\n                console.log(error.response.data);\r\n                console.log(error.response.status);\r\n                console.log(error.response.headers);\r\n            } else {\r\n                console.log('Error', error.message);\r\n            }\r\n          }\r\n        )\r\n        getData()\r\n    }\r\n    \r\n\r\n    useEffect(() => {\r\n      setLoading(true)\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://127.0.0.1:8000/api/cart/',\r\n            data: {\r\n                uid: user.uid,\r\n            }\r\n          }).then(\r\n            response => {\r\n              //console.log(response.data)\r\n              setProducts(response.data.products);\r\n              setTotalPrice(response.data.total)\r\n              \r\n              setLoading(false)\r\n            }\r\n          ).catch(\r\n            error => {\r\n              if(error.response) {\r\n                console.log(error.response.data)\r\n              }\r\n              setLoading(false)\r\n            }\r\n          )\r\n      }, [])\r\n\r\n    if(loading) {\r\n      return(\r\n      <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', marginTop: 300}}>\r\n        <Ripple color=\"#111\" />\r\n      </div>\r\n      )\r\n    }\r\n   if(products.length == 0) {\r\n    return(\r\n      <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', marginTop: 300}}>\r\n       <h1>Your cart is empty. You can add product by shopping.</h1>\r\n      </div>\r\n      )\r\n   }\r\n    return (\r\n      \r\n        <Container style={{ marginTop: 100}}>\r\n        <Row>\r\n        <Col xs={10} style={{textAlign: 'left'}}>\r\n        \r\n        <h1>My Cart</h1><h2>  {products.length} items</h2>\r\n\r\n      <div>\r\n          {\r\n          products.map((p) => {\r\n              return( \r\n                <Container style={{borderBottom: '2px solid rgb(50,50,50)', paddingBottom: 30, marginTop: 30}}>\r\n                  <Row>\r\n                    <Col xs={2}>\r\n                        \r\n                          <img src={\"http://127.0.0.1:8000\"+p.image} alt = \"Product's Image\" style={{height: 125, width:125}}></img>\r\n                        \r\n                    </Col>\r\n                    <Col style={{display: 'flex', justifyContent: 'space-around', flexDirection: 'column', textAlign: 'left'}} xs={8}>\r\n                        <Link style={{color: 'black', textDecoration: 'none', fontSize: 24}} to={`/product/${p.pid}`}>{p.name}</Link>\r\n                        <div style={{display: 'flex', flexDirection: 'row', justifyContent: 'space-between'}}><p style={{fontSize: 24, fontWeight: 'bold'}}>{p.discountPrice} â‚º</p><p style={{fontSize: 20}}>Quantity: {p.quantity}</p></div>\r\n                    </Col>\r\n                    <Col xs={2} style={{display: 'flex', flexDirection: 'column', justifyContent: 'space-around'}}>\r\n                      \r\n                      <div className=\"pointed\" onClick={() => {increaseQuantity(p)}} ><i style={{height: 50, width: 50, borderRadius: 50, border: '1px solid rgb(50,50,50)', justifyContent: 'center', alignItems: 'center', display: 'flex'}} class=\"fas fa-plus\"></i></div>\r\n                      \r\n                      <div className=\"pointed\" onClick={() => {removeFromCart(p)}} ><i style={{height: 50, width: 50, borderRadius: 50, border: '1px solid rgb(50,50,50)', justifyContent: 'center', alignItems: 'center', display: 'flex'}} class={p.quantity === 1 ? \"fas fa-trash\" : \"fas fa-minus\"}></i></div>\r\n                    </Col>\r\n                  </Row>\r\n                </Container>\r\n              )\r\n          })\r\n          }\r\n\r\n      </div>\r\n      </Col>\r\n      <Col xs={2} >\r\n        <Container style={{ position: 'fixed', border: '2px solid rgb(50,50,50)', borderRadius: 20}}>\r\n          <Row style={{display: 'flex', flexDirection: 'column', justifyContent: 'flex-start', textAlign: 'left', padding: 20}}>\r\n            <h3>Price to Pay:</h3>\r\n            <h1>{totalPrice+73}$</h1>\r\n          </Row>\r\n          <Row style={{display: 'flex', flexDirection: 'column', justifyContent: 'flex-start', textAlign: 'left', padding: 20}}>\r\n            <h5>Products: {totalPrice}$</h5>\r\n            \r\n            <h5>Shipment Fee: 73$</h5>\r\n          </Row>\r\n          <Row style={{padding: 20}}>\r\n            <Button onClick={() => props.history.push(`/purchase`)} variant=\"dark\" size={\"lg\"}>Place Order</Button>\r\n          </Row>\r\n        </Container>\r\n      </Col>\r\n\r\n\r\n      </Row>\r\n      </Container>\r\n        );\r\n                    \r\n}\r\n\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}