{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/App.js\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter, Switch, Route, NavLink, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport header_logo from \"./assets/logo_inverted.png\";\nimport { setUserSession, getRefreshToken, getAccessToken, removeUserSession } from \"./utils/Common\";\nimport Login from \"./pages/Login\";\nimport Dashboard from \"./pages/Dashboard\";\nimport Register from \"./pages/Register\";\nimport Home from \"./pages/Home\";\nimport AllProducts from \"./pages/AllProducts\";\nimport Product from \"./pages/Product\";\nimport PrivateRoute from \"./utils/PrivateRoute\";\nimport PublicRoute from \"./utils/PublicRoute\";\n\nfunction App() {\n  var _this = this;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      authLoading = _useState2[0],\n      setAuthLoading = _useState2[1];\n\n  useEffect(function () {\n    var refresh = getRefreshToken();\n    var access = getAccessToken();\n\n    if (!refresh) {\n      return;\n    }\n\n    axios({\n      method: 'get',\n      url: 'http://127.0.0.1:8000/api/token/verify/',\n      data: {\n        token: refresh\n      }\n    }).then(function (response) {\n      setUserSession(response.data.refresh, response.data.access, response.data.user);\n      setAuthLoading(false);\n    }).catch(function (error) {\n      removeUserSession();\n      setAuthLoading(false);\n    });\n  }, []);\n\n  if (authLoading && getRefreshToken()) {\n    return React.createElement(\"div\", {\n      className: \"content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 12\n      }\n    }, \"Checking Authentication...\");\n  }\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    id: \"icon-bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, React.createElement(\"i\", {\n    class: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"asdf\")), React.createElement(Link, {\n    exact: true,\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, React.createElement(\"img\", {\n    id: \"header-logo\",\n    src: header_logo,\n    style: {\n      width: 1600,\n      height: 323\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 34\n    }\n  })), React.createElement(\"div\", {\n    className: \"navbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/products/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"WEDDING RINGS\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/products/5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, \"ENGAGEMENT RINGS\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/products/6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"NECKLACES\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/products/7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"BRACELETS\"), React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/products/8\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"EARRINGS\"))), React.createElement(\"div\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }), React.createElement(PublicRoute, {\n    path: \"/login\",\n    component: Login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }), React.createElement(PrivateRoute, {\n    path: \"/dashboard\",\n    component: Dashboard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }), React.createElement(PublicRoute, {\n    path: \"/register\",\n    component: Register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }), React.createElement(Route, {\n    path: \"/product/:pid\",\n    component: function component(props) {\n      return React.createElement(Product, _extends({}, props, {\n        key: window.location.pathname,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 65\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }), React.createElement(Route, {\n    path: \"/products/:caid\",\n    component: function component(props) {\n      return React.createElement(AllProducts, _extends({}, props, {\n        key: window.location.pathname,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 67\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }))))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/App.js"],"names":["logo","React","useState","useEffect","BrowserRouter","Switch","Route","NavLink","Link","axios","header_logo","setUserSession","getRefreshToken","getAccessToken","removeUserSession","Login","Dashboard","Register","Home","AllProducts","Product","PrivateRoute","PublicRoute","App","authLoading","setAuthLoading","refresh","access","method","url","data","token","then","response","user","catch","error","width","height","props","window","location","pathname"],"mappings":"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","sourcesContent":["import logo from './logo.svg';\r\nimport './App.css';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Switch, Route, NavLink, Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport header_logo from './assets/logo_inverted.png';\r\n\r\n\r\nimport { setUserSession, getRefreshToken, getAccessToken, removeUserSession } from './utils/Common';\r\nimport Login from './pages/Login';\r\nimport Dashboard from './pages/Dashboard';\r\nimport Register from './pages/Register';\r\nimport Home from './pages/Home';\r\nimport AllProducts from './pages/AllProducts';\r\nimport Product from './pages/Product';\r\nimport PrivateRoute from './utils/PrivateRoute';\r\nimport PublicRoute from './utils/PublicRoute';\r\n\r\nfunction App() {\r\n  const [authLoading, setAuthLoading] = useState(true);\r\n \r\n  useEffect(() => {\r\n    const refresh = getRefreshToken();\r\n    const access = getAccessToken();\r\n    if (!refresh) {\r\n      return;\r\n    }\r\n    //might change get and response object type\r\n    axios({\r\n      method: 'get',\r\n      url: 'http://127.0.0.1:8000/api/token/verify/',\r\n      data: {\r\n        token: refresh\r\n      }\r\n    }).then(\r\n      response => {\r\n        setUserSession(response.data.refresh,response.data.access, response.data.user);\r\n        setAuthLoading(false);\r\n      }\r\n    ).catch(\r\n      error => {\r\n        removeUserSession();\r\n        setAuthLoading(false);\r\n      }\r\n    );\r\n  }, []);\r\n \r\n  if (authLoading && getRefreshToken()) {\r\n    return <div className=\"content\">Checking Authentication...</div>\r\n  }\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter>\r\n        <div>\r\n          <div className=\"header\">\r\n          <div id=\"icon-bar\">\r\n            <i class=\"fas fa-search\">asdf</i>  \r\n          </div>\r\n            <Link exact to={`/`}><img id = \"header-logo\" src={header_logo} style={{width: 1600, height: 323}} /></Link>\r\n            <div className = \"navbar\"> \r\n            <NavLink activeClassName=\"active\" to=\"/products/4\">WEDDING RINGS</NavLink>\r\n            <NavLink activeClassName=\"active\" to=\"/products/5\">ENGAGEMENT RINGS</NavLink>\r\n            <NavLink activeClassName=\"active\" to=\"/products/6\">NECKLACES</NavLink>\r\n            <NavLink activeClassName=\"active\" to=\"/products/7\">BRACELETS</NavLink>\r\n            <NavLink activeClassName=\"active\" to=\"/products/8\">EARRINGS</NavLink>\r\n            </div>\r\n\r\n          </div>\r\n          <div className=\"content\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Home} />\r\n              <PublicRoute path=\"/login\" component={Login} />\r\n              <PrivateRoute path=\"/dashboard\" component={Dashboard} />\r\n              <PublicRoute path=\"/register\" component={Register} />\r\n              <Route path=\"/product/:pid\" component={(props) => <Product {...props} key={window.location.pathname}/>} />\r\n              <Route path=\"/products/:caid\" component={(props) => <AllProducts {...props} key={window.location.pathname}/>} />\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </BrowserRouter>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}