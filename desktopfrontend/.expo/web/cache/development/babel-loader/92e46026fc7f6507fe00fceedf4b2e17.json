{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Product.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { getUser } from \"../utils/Common\";\nimport \"../css/Products.css\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { Ripple } from 'react-spinners-css';\nimport { Link } from 'react-router-dom';\nimport time from \"../assets/icons/timeBl.png\";\nimport truck from \"../assets/icons/delivery-truckBl.png\";\nimport leaf from \"../assets/icons/leaf.png\";\nimport ring from \"../assets/icons/wedding-ringBl.png\";\nimport handshake from \"../assets/icons/handshakeBl.png\";\nimport diamond from \"../assets/icons/diamondNewBl.png\";\n\nfunction Product(props) {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      product = _useState6[0],\n      setProduct = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      comments = _useState8[0],\n      setComments = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      avgRating = _useState10[0],\n      setAvgRating = _useState10[1];\n\n  var _useState11 = useState(-1),\n      _useState12 = _slicedToArray(_useState11, 2),\n      pid = _useState12[0],\n      setPid = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      key = _useState14[0],\n      setKey = _useState14[1];\n\n  var _useState15 = useState(null),\n      _useState16 = _slicedToArray(_useState15, 2),\n      comment = _useState16[0],\n      setComment = _useState16[1];\n\n  var _useState17 = useState(null),\n      _useState18 = _slicedToArray(_useState17, 2),\n      rating = _useState18[0],\n      setRating = _useState18[1];\n\n  var _useState19 = useState(null),\n      _useState20 = _slicedToArray(_useState19, 2),\n      res = _useState20[0],\n      setRes = _useState20[1];\n\n  var _useState21 = useState(getUser()),\n      _useState22 = _slicedToArray(_useState21, 2),\n      user = _useState22[0],\n      setUser = _useState22[1];\n\n  var addDays = function addDays(date, days) {\n    var result = new Date(date);\n    result.setDate(result.getDate() + days);\n    return result;\n  };\n\n  var handleSubmit = function handleSubmit(event) {\n    event.preventDefault();\n    var data = {\n      comment: {\n        pid: props.match.params.pid,\n        comment: comment,\n        uid: user.uid,\n        approved: false,\n        rating: rating\n      },\n      pid: props.match.params.pid\n    };\n    console.log(data);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/addcommentandrating/',\n      data: {\n        comment: {\n          pid: props.match.params.pid,\n          comment: comment,\n          uid: user.uid,\n          approved: false,\n          rating: rating\n        },\n        pid: props.match.params.pid\n      }\n    }).then(function (response) {\n      setLoading(false);\n      setRes(\"Your comment will appear here when it is approved.\");\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        setError(error.response.data.error);\n        console.log(error.response);\n      } else {\n        setError(error.message);\n        console.log(error.message);\n      }\n    });\n  };\n\n  var addToCart = function addToCart(event) {\n    var data = {\n      data: {\n        pid: props.match.params.pid,\n        uid: user.uid\n      }\n    };\n    console.log(data);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/addtocart/',\n      data: {\n        cart: {\n          pid: props.match.params.pid,\n          uid: user.uid,\n          quantity: 1\n        },\n        pid: props.match.params.pid\n      }\n    }).then(function (response) {\n      setLoading(false);\n      setRes(\"Added to cart successfully.\");\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        setError(error.response.data.error);\n        console.log(error.response);\n      } else {\n        setError(error.message);\n        console.log(error.message);\n      }\n    });\n  };\n\n  useEffect(function () {\n    setRes(null);\n    setLoading(true);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/singleproduct/',\n      data: {\n        pid: props.match.params.pid\n      }\n    }).then(function (response) {\n      setProduct(response.data.product[0]);\n      setComments(response.data.comments);\n      setAvgRating(response.data.avgRating);\n      setLoading(false);\n      console.log(comments);\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        console.log(error.response.status);\n        console.log(error.response.data.error);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n    setPid(props.match.params.pid);\n  }, [props.match.params.pid]);\n\n  if (loading) {\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 300\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, React.createElement(Ripple, {\n      color: \"#111\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }));\n  } else {\n    if (product == null) {\n      return React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 28\n        }\n      }, \"A PROBLEM OCCURED\");\n    } else {\n      var d = new Date();\n      var d = addDays(d, 7);\n      var options = {\n        weekday: 'long',\n        month: 'long',\n        day: 'numeric'\n      };\n      return React.createElement(React.Fragment, null, React.createElement(Container, {\n        style: {\n          paddingTop: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }\n      }, React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 27\n        }\n      }, React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }\n      }, React.createElement(\"img\", {\n        src: \"http://127.0.0.1:8000\" + product.image,\n        alt: \"Product's Image\",\n        width: 500,\n        height: 500,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 31\n        }\n      })), React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 29\n        }\n      }, React.createElement(\"div\", {\n        class: \"Product-info\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 31\n        }\n      }, React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 31\n        }\n      }, product.name), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 54\n        }\n      }), product.discountPrice === product.price ? React.createElement(React.Fragment, null, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 76\n        }\n      }, React.createElement(\"p\", {\n        style: {\n          textAlign: 'right',\n          fontWeight: 'bold',\n          fontSize: 40\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 79\n        }\n      }, product.price, \"$\")), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 169\n        }\n      })) : React.createElement(React.Fragment, null, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 186\n        }\n      }, React.createElement(\"p\", {\n        style: {\n          textAlign: 'right',\n          fontWeight: 'bold',\n          fontSize: 30,\n          color: 'red',\n          textDecoration: 'line-through'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 189\n        }\n      }, product.price, \"$\"), React.createElement(\"p\", {\n        style: {\n          textAlign: 'right',\n          fontWeight: 'bold',\n          fontSize: 40\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 320\n        }\n      }, \"         \", product.discountPrice, \"$\")), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 427\n        }\n      })), React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 31\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 34\n        }\n      }, \"Color: \"), product.color), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 67\n        }\n      }), React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 31\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 34\n        }\n      }, \"Material: \"), product.material), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 73\n        }\n      }), React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 31\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 34\n        }\n      }, \"Stock: \"), product.stock), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 67\n        }\n      }), React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 31\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 34\n        }\n      }, \"Warranty: \"), product.warranty, \" year(s)\"), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 81\n        }\n      }), React.createElement(Button, {\n        style: {\n          marginBottom: 40\n        },\n        variant: \"dark\",\n        size: 'lg',\n        onClick: addToCart,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 31\n        }\n      }, \"Add to Cart\"), React.createElement(\"div\", {\n        style: {\n          display: 'inline'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 31\n        }\n      }, React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 64\n        }\n      }, \"Ships by: \"), React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          fontSize: 16\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 81\n        }\n      }, d.toLocaleDateString(\"en-US\", options)), React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 171\n        }\n      }, \" if you order today.\"))))), React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 27\n        }\n      }, React.createElement(Col, {\n        style: {\n          marginTop: -40\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 29\n        }\n      }, React.createElement(Row, {\n        style: {\n          marginTop: 20,\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 29\n        }\n      }, React.createElement(\"img\", {\n        src: time,\n        style: {\n          height: 60,\n          width: 60\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 31\n        }\n      }), React.createElement(\"p\", {\n        style: {\n          marginLeft: 10,\n          paddingTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 33\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 33\n        }\n      }, \"1-week Shipping \")), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 31\n        }\n      })), React.createElement(Row, {\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 29\n        }\n      }, React.createElement(\"img\", {\n        src: truck,\n        style: {\n          height: 60,\n          width: 60\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 31\n        }\n      }), React.createElement(\"p\", {\n        style: {\n          marginLeft: 10,\n          paddingTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 33\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 33\n        }\n      }, \"Free Insured Shipping and Returns \"))), React.createElement(Row, {\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 29\n        }\n      }, React.createElement(\"img\", {\n        src: ring,\n        style: {\n          height: 60,\n          width: 60\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 31\n        }\n      }), React.createElement(\"p\", {\n        style: {\n          marginLeft: 10,\n          paddingTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 33\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 33\n        }\n      }, \"Lifetime Warranty and Free Resizing \"))), React.createElement(Row, {\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 29\n        }\n      }, React.createElement(\"img\", {\n        src: leaf,\n        style: {\n          height: 60,\n          width: 60\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 31\n        }\n      }), React.createElement(\"p\", {\n        style: {\n          marginLeft: 10,\n          paddingTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 33\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 33\n        }\n      }, \"Ethically Sourced \"))), React.createElement(Row, {\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 29\n        }\n      }, React.createElement(\"img\", {\n        src: handshake,\n        style: {\n          height: 60,\n          width: 60\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 31\n        }\n      }), React.createElement(\"p\", {\n        style: {\n          marginLeft: 10,\n          paddingTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 33\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 33\n        }\n      }, \"30-day Free Returns\"))), React.createElement(Row, {\n        style: {\n          marginTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 29\n        }\n      }, React.createElement(\"img\", {\n        src: diamond,\n        style: {\n          height: 60,\n          width: 60\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 31\n        }\n      }), React.createElement(\"p\", {\n        style: {\n          marginLeft: 10,\n          paddingTop: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 33\n        }\n      }, React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 33\n        }\n      }, \"Top Quality In-house Manufacturing\")))), React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 29\n        }\n      }, React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 33\n        }\n      }, \"Description:\", \"\\n\"), React.createElement(\"p\", {\n        class: \"Product-Text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 33\n        }\n      }, product.description), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 82\n        }\n      }), React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 33\n        }\n      }, \"Comments:\", \"\\n\"), comments.length === 0 ? React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 41\n        }\n      }, \"No comment added yet.\") : comments.map(function (comment) {\n        return React.createElement(\"p\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 43\n          }\n        }, comment.comment, \" RATING: \", comment.rating);\n      }), user ? React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 33\n        }\n      }, \"Add Comment\", \"\\n\"), React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 33\n        }\n      }, \"Comment:\", React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 45\n        }\n      }), React.createElement(\"textarea\", {\n        class: \"Product-Text\",\n        value: comment,\n        onChange: function onChange(event) {\n          setComment(event.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 37\n        }\n      })), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 41\n        }\n      }), React.createElement(\"select\", {\n        value: rating,\n        onChange: function onChange(event) {\n          setRating(event.target.value);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 33\n        }\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 37\n        }\n      }, \"SELECT A RATING\"), React.createElement(\"option\", {\n        value: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 37\n        }\n      }, \"1\"), React.createElement(\"option\", {\n        value: 2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 37\n        }\n      }, \"2\"), React.createElement(\"option\", {\n        value: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 37\n        }\n      }, \"3\"), React.createElement(\"option\", {\n        value: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 37\n        }\n      }, \"4\"), React.createElement(\"option\", {\n        value: 5,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 37\n        }\n      }, \"5\")), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 42\n        }\n      }), React.createElement(Button, {\n        type: \"submit\",\n        value: \"Submit\",\n        onClick: handleSubmit,\n        variant: \"dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 33\n        }\n      }, \"SUBMIT COMMENT\"), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 131\n        }\n      }), res && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n        style: {\n          color: 'green'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 43\n        }\n      }, res), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 90\n        }\n      })), React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 100\n        }\n      })) : React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 39\n        }\n      }, \"You must \", React.createElement(Link, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 51\n        }\n      }, \"login\"), \" to add comment.\")))));\n    }\n  }\n}\n\nexport default Product;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Product.js"],"names":["React","useState","useEffect","axios","getUser","Container","Row","Col","Button","Ripple","Link","time","truck","leaf","ring","handshake","diamond","Product","props","loading","setLoading","error","setError","product","setProduct","comments","setComments","avgRating","setAvgRating","pid","setPid","key","setKey","comment","setComment","rating","setRating","res","setRes","user","setUser","addDays","date","days","result","Date","setDate","getDate","handleSubmit","event","preventDefault","data","match","params","uid","approved","console","log","method","url","then","response","catch","message","addToCart","cart","quantity","status","display","flexDirection","alignItems","justifyContent","marginTop","d","options","weekday","month","day","paddingTop","image","name","discountPrice","price","textAlign","fontWeight","fontSize","color","textDecoration","material","stock","warranty","marginBottom","toLocaleDateString","height","width","marginLeft","description","length","map","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { getUser } from '../utils/Common';\r\nimport '../css/Products.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Ripple } from 'react-spinners-css';\r\nimport { Link } from 'react-router-dom';\r\nimport time from '../assets/icons/timeBl.png'\r\nimport truck from '../assets/icons/delivery-truckBl.png'\r\nimport leaf from '../assets/icons/leaf.png'\r\nimport ring from '../assets/icons/wedding-ringBl.png'\r\nimport handshake from '../assets/icons/handshakeBl.png'\r\nimport diamond from '../assets/icons/diamondNewBl.png'\r\n\r\nfunction Product(props) {\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [product, setProduct] = useState(null);\r\n    const [comments, setComments] = useState([]);\r\n    const [avgRating, setAvgRating] = useState(0)\r\n    const [pid, setPid] = useState(-1)\r\n    const [key, setKey] = useState(null);\r\n    const [comment, setComment] = useState(null);\r\n    const [rating, setRating] = useState(null);\r\n    const [res, setRes] = useState(null);\r\n    const [user, setUser] = useState(getUser());\r\n    const addDays = (date, days) => {\r\n      var result = new Date(date);\r\n      result.setDate(result.getDate() + days);\r\n      return result;\r\n    }\r\n    const handleSubmit = (event) => {\r\n        \r\n        event.preventDefault()\r\n        const data = {\r\n            comment: {\r\n              pid: props.match.params.pid,\r\n              comment: comment,\r\n              uid: user.uid,\r\n              approved: false,\r\n              rating: rating,\r\n            },\r\n            pid: props.match.params.pid\r\n          };\r\n          console.log(data);\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://127.0.0.1:8000/api/addcommentandrating/',\r\n            data: {\r\n              comment: {\r\n                pid: props.match.params.pid,\r\n                comment: comment,\r\n                uid: user.uid,\r\n                approved: false,\r\n                rating: rating,\r\n              },\r\n              pid: props.match.params.pid\r\n            }\r\n          }).then(\r\n            response => {\r\n              setLoading(false);\r\n              setRes(\"Your comment will appear here when it is approved.\");\r\n            }\r\n          ).catch(\r\n            error => {\r\n              setLoading(false);\r\n              if (error.response) {\r\n                setError(error.response.data.error)\r\n                console.log(error.response)\r\n              }\r\n              else {\r\n                  setError(error.message);\r\n                  console.log(error.message)\r\n              }\r\n            }\r\n          )\r\n    }\r\n\r\n    const addToCart = (event) => {\r\n        \r\n\r\n        const data = {\r\n            data: {\r\n              pid: props.match.params.pid,\r\n              uid: user.uid,\r\n            },\r\n          };\r\n          console.log(data);\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://127.0.0.1:8000/api/addtocart/',\r\n            data: {\r\n              cart: {\r\n                pid: props.match.params.pid,\r\n                uid: user.uid,\r\n                quantity: 1,\r\n              },\r\n              pid: props.match.params.pid,\r\n            }\r\n          }).then(\r\n            response => {\r\n              setLoading(false);\r\n              setRes(\"Added to cart successfully.\");\r\n            }\r\n          ).catch(\r\n            error => {\r\n              setLoading(false);\r\n              if (error.response) {\r\n                setError(error.response.data.error)\r\n                console.log(error.response)\r\n              }\r\n              else {\r\n                  setError(error.message);\r\n                  console.log(error.message)\r\n              }\r\n            }\r\n          )\r\n    }\r\n\r\n    useEffect(() => {\r\n        setRes(null);\r\n        setLoading(true);\r\n        \r\n        axios({\r\n            method: 'post',\r\n            url: 'http://127.0.0.1:8000/api/singleproduct/',\r\n            data: {pid: props.match.params.pid},\r\n        }).then(\r\n            response => {\r\n                setProduct(response.data.product[0]);\r\n                setComments(response.data.comments);\r\n                setAvgRating(response.data.avgRating);\r\n                setLoading(false);\r\n\r\n                console.log(comments)\r\n            }\r\n            ).catch(\r\n                error => {\r\n                    setLoading(false);\r\n                    if (error.response) {\r\n                        console.log(error.response.status);\r\n                        console.log(error.response.data.error);\r\n                    } else {\r\n                        console.log('Error', error.message);\r\n                    }\r\n                }\r\n                )\r\n                setPid(props.match.params.pid)\r\n                \r\n            }, [props.match.params.pid])\r\n\r\n            if(loading) {\r\n              return(\r\n              <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', marginTop: 300}}>\r\n                <Ripple color=\"#111\" />\r\n              </div>\r\n              )\r\n            }\r\n            else {\r\n                if(product == null) {\r\n                    return(<div>A PROBLEM OCCURED</div>)\r\n                }\r\n                else {\r\n                    \r\n                    var d = new Date()\r\n                    var d = addDays(d, 7)\r\n                    var options = { weekday: 'long', month: 'long', day: 'numeric' };\r\n                    \r\n                    return (\r\n                        <>\r\n                        <Container style={{paddingTop: 50}}>\r\n                          <Row>\r\n                            <Col>\r\n                              <img src={\"http://127.0.0.1:8000\"+product.image} alt = \"Product's Image\" width={500} height ={500}></img>\r\n                            </Col>\r\n                            <Col>\r\n                              <div class = \"Product-info\">\r\n                              <h1>{product.name}</h1><br></br>\r\n                              {product.discountPrice === product.price ? <><b><p style={{textAlign: 'right', fontWeight: 'bold', fontSize: 40}}>{product.price}$</p></b><br></br></> : <><b><p style={{textAlign: 'right', fontWeight: 'bold', fontSize: 30, color:'red', textDecoration: 'line-through'}}>{product.price}$</p><p style={{textAlign: 'right', fontWeight: 'bold', fontSize: 40}}>         {product.discountPrice}$</p></b><br></br></>}\r\n                              <p><b>Color: </b>{product.color}</p><br></br>\r\n                              <p><b>Material: </b>{product.material}</p><br></br>\r\n                              <p><b>Stock: </b>{product.stock}</p><br></br>\r\n                              <p><b>Warranty: </b>{product.warranty} year(s)</p><br></br>\r\n                              <Button style={{marginBottom: 40}} variant=\"dark\" size={'lg'} onClick={addToCart}>Add to Cart</Button>\r\n                              <div style={{display: 'inline'}}><p>Ships by: </p><p style={{fontWeight: 'bold', fontSize: 16}}>{d.toLocaleDateString(\"en-US\", options)}</p><p> if you order today.</p></div>\r\n                              </div>\r\n                            </Col>\r\n                          </Row>\r\n                          <Row>\r\n                            <Col style={{marginTop: -40}}>\r\n                            <Row style={{marginTop: 20, alignItems: 'center'}}>\r\n                              <img src={time}  style={{height: 60, width: 60}} /> \r\n                              \r\n                                <p style={{marginLeft: 10, paddingTop: 20}}>\r\n                                <b>1-week Shipping </b>\r\n                                </p>\r\n                              <br />\r\n                              \r\n                            </Row>\r\n\r\n                            <Row style={{marginTop: 20}}>\r\n                              <img src={truck} style={{height: 60, width: 60}}/> \r\n                              \r\n                                <p style={{marginLeft: 10, paddingTop: 20}}>\r\n                                <b>Free Insured Shipping and Returns </b>\r\n                                </p>\r\n                              \r\n                              \r\n                            </Row>\r\n\r\n\r\n                            <Row style={{marginTop: 20}}>\r\n                              <img src={ring} style={{ height: 60, width: 60}}/> \r\n                              \r\n                                <p style={{marginLeft: 10, paddingTop: 20}}>\r\n                                <b>Lifetime Warranty and Free Resizing </b>\r\n                                </p>\r\n                              \r\n                            </Row>\r\n\r\n\r\n                            <Row style={{marginTop: 20}}>\r\n                              <img src={leaf} style={{height: 60, width: 60}}/> \r\n                              \r\n                                <p style={{marginLeft: 10, paddingTop: 20}}>\r\n                                <b>Ethically Sourced </b>\r\n                                </p>\r\n                                \r\n                            </Row>\r\n\r\n                            <Row style={{marginTop: 20}}>\r\n                              <img src={handshake} style={{height: 60, width: 60}}/> \r\n                              \r\n                                <p style={{marginLeft: 10, paddingTop: 20}}>\r\n                                <b>30-day Free Returns</b>\r\n                                </p>\r\n                                \r\n                            </Row>\r\n\r\n                            <Row style={{marginTop: 20}}>\r\n                              <img src={diamond} style={{height: 60, width: 60}}/> \r\n                              \r\n                                <p style={{marginLeft: 10, paddingTop: 20}}>\r\n                                <b>Top Quality In-house Manufacturing</b>\r\n                                </p>\r\n                            </Row>\r\n                            </Col>\r\n                            <Col>\r\n                                <h2>Description:{\"\\n\"}</h2>\r\n                                <p class=\"Product-Text\">{product.description}</p><br></br>\r\n                                <h2>Comments:{\"\\n\"}</h2>\r\n                                {\r\n                                    comments.length === 0 ? (\r\n                                        <p>No comment added yet.</p>\r\n                                    )\r\n                                    : \r\n                                    (\r\n                                    comments.map((comment) => {\r\n                                      return (\r\n                                          <p>{comment.comment} RATING: {comment.rating}</p>\r\n                                      )\r\n                                    })\r\n                                    )\r\n                                }\r\n                                {\r\n                                user ? <>\r\n                                <h2>Add Comment{\"\\n\"}</h2>\r\n                                \r\n                                <label>\r\n                                    Comment:<br></br>\r\n                                    <textarea class = \"Product-Text\" value={comment} onChange={(event) => {setComment(event.target.value)}} />\r\n                                </label><br></br>\r\n                                <select value={rating} onChange={(event) => {setRating(event.target.value);}}>\r\n                                    <option value=\"\">SELECT A RATING</option>\r\n                                    <option value={1}>1</option>\r\n                                    <option value={2}>2</option>\r\n                                    <option value={3}>3</option>\r\n                                    <option value={4}>4</option>\r\n                                    <option value={5}>5</option>\r\n                                </select><br></br>\r\n                                <Button type=\"submit\" value=\"Submit\" onClick={handleSubmit} variant=\"dark\">SUBMIT COMMENT</Button><br />\r\n                                {res && <><small style={{ color: 'green' }}>{res}</small><br /></>}<br />\r\n                                </> : <p>You must <Link to=\"/login\" >login</Link> to add comment.</p>\r\n                                }\r\n                            </Col>\r\n                          </Row>\r\n                        </Container>\r\n                        </>\r\n                        );\r\n                    }\r\n                }\r\n}\r\n\r\n\r\nexport default Product;\r\n"]},"metadata":{},"sourceType":"module"}