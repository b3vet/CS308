{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Dashboard.js\",\n    _this2 = this;\n\nimport React, { useState, useEffect } from 'react';\nimport { getUser, removeUserSession } from \"../utils/Common\";\nimport { Link, BrowserRouter, NavLink, Switch, Route } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport axios from 'axios';\n\nfunction Dashboard(props) {\n  var _this = this;\n\n  var _useState = useState(getUser()),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState(user.email),\n      _useState8 = _slicedToArray(_useState7, 2),\n      newMail = _useState8[0],\n      setNewMail = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      newPassword = _useState10[0],\n      setNewPassword = _useState10[1];\n\n  var _useState11 = useState(user.phoneNumber),\n      _useState12 = _slicedToArray(_useState11, 2),\n      newPhone = _useState12[0],\n      setNewPhone = _useState12[1];\n\n  var _useState13 = useState(user.taxID),\n      _useState14 = _slicedToArray(_useState13, 2),\n      newTaxID = _useState14[0],\n      setNewTaxID = _useState14[1];\n\n  var _useState15 = useState(user.name),\n      _useState16 = _slicedToArray(_useState15, 2),\n      newName = _useState16[0],\n      setNewName = _useState16[1];\n\n  var _useState17 = useState(user.surname),\n      _useState18 = _slicedToArray(_useState17, 2),\n      newSurname = _useState18[0],\n      setNewSurname = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      passRequired = _useState20[0],\n      setPassRequired = _useState20[1];\n\n  var _useState21 = useState(''),\n      _useState22 = _slicedToArray(_useState21, 2),\n      result = _useState22[0],\n      setResult = _useState22[1];\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (newPassword.value == '') {\n      setPassRequired(\"Please enter your old password if you do not want to change your password.\");\n    } else {\n      setError(null);\n      setLoading(true);\n      setPassRequired('');\n      var d = {\n        password: newPassword,\n        name: newName,\n        surname: newSurname,\n        email: newMail,\n        phone: newPhone,\n        taxID: newTaxID,\n        uid: user.uid\n      };\n      console.log('sending request');\n      axios({\n        method: 'post',\n        url: 'http://127.0.0.1:8000/api/changeuserinfo/',\n        data: d\n      }).then(function (res) {\n        console.log(res.data);\n        setResult(res.data.success);\n        setLoading(false);\n      }).catch(function (err) {\n        if (err.response) {\n          setError(err.response.data);\n          console.log(err.response.data);\n        } else {\n          setError(err.message);\n          console.log(err.message);\n        }\n\n        setLoading(false);\n      });\n    }\n  };\n\n  var Info = function Info(props) {\n    var user = props.user;\n    return React.createElement(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: 10,\n        width: '80%',\n        paddingLeft: '19%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 5\n      }\n    }, React.createElement(\"p\", {\n      style: {\n        fontSize: 22,\n        fontWeight: 'bold',\n        marginBottom: 40,\n        textAlign: 'left'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }, user.name, \" \", user.surname), React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }\n    }, React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, \"Email\", React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 16\n      }\n    }), React.createElement(\"input\", {\n      value: newMail,\n      type: \"text\",\n      onChange: function onChange(event) {\n        return setNewMail(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    })), React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, \"Password\", React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }), React.createElement(\"input\", {\n      placeholder: 'Enter new password',\n      type: \"password\",\n      value: newPassword,\n      onChange: function onChange(event) {\n        return setNewPassword(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    })), React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, \"Name\", React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }), React.createElement(\"input\", {\n      value: newName,\n      type: \"text\",\n      onChange: function onChange(event) {\n        return setNewName(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }\n    })), React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, \"Surname\", React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 18\n      }\n    }), React.createElement(\"input\", {\n      value: newSurname,\n      type: \"text\",\n      onChange: function onChange(event) {\n        return setNewSurname(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }\n    })), React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, \"Phone Number\", React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 23\n      }\n    }), React.createElement(\"input\", {\n      value: newPhone,\n      type: \"text\",\n      onChange: function onChange(event) {\n        return setNewPhone(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    })), React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, \"Tax ID\", React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }), React.createElement(\"input\", {\n      value: newTaxID,\n      type: \"text\",\n      onChange: function onChange(event) {\n        return setNewTaxID(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    })), React.createElement(Button, {\n      type: \"submit\",\n      style: {\n        marginTop: 40,\n        alignSelf: 'center'\n      },\n      onClick: handleSubmit,\n      variant: \"dark\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 7\n      }\n    }, \"Save Changes\"), React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 135\n      }\n    })), passRequired && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n      style: {\n        color: 'red'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 26\n      }\n    }, passRequired), React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 80\n      }\n    })), React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 90\n      }\n    }));\n  };\n\n  if (loading) {\n    return React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  }, React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, React.createElement(Container, {\n    style: {\n      marginLeft: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }\n  }, React.createElement(Row, {\n    className: \"dashboard_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, React.createElement(Col, {\n    xl: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    className: \"dashboard_left_bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    className: \"bar_links\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }\n  }, React.createElement(NavLink, {\n    style: {\n      textDecoration: 'none',\n      margin: 10\n    },\n    activeClassName: \"dashboard_bar_active\",\n    to: \"/dashboard/info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }, React.createElement(\"i\", {\n    class: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 129\n    }\n  }), \"   User Info\"), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 178\n    }\n  }), React.createElement(NavLink, {\n    style: {\n      textDecoration: 'none',\n      margin: 10\n    },\n    activeClassName: \"dashboard_bar_active\",\n    to: \"/dashboard/orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, React.createElement(\"i\", {\n    class: \"fas fa-truck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 130\n    }\n  }), \"   Orders\"), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 177\n    }\n  }), React.createElement(NavLink, {\n    style: {\n      textDecoration: 'none',\n      margin: 10\n    },\n    activeClassName: \"dashboard_bar_active\",\n    to: \"/dashboard/settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, React.createElement(\"i\", {\n    class: \"fas fa-cog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 132\n    }\n  }), \"   Settings\"), user.role == \"productM\" && React.createElement(React.Fragment, null, React.createElement(Button, {\n    onClick: function onClick() {\n      return props.history.push('/addproduct');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 43\n    }\n  }, \"Add Product!\"), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 121\n    }\n  })), React.createElement(Button, {\n    style: {\n      marginTop: 350,\n      marginBottom: 10,\n      marginLeft: 10,\n      marginRight: 10\n    },\n    onClick: function onClick() {\n      return handleLogout(props);\n    },\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  }, \"Log Out\")))), React.createElement(Col, {\n    xl: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    className: \"dashboard_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, React.createElement(Route, {\n    path: \"/dashboard/settings\",\n    component: settings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }), React.createElement(Route, {\n    path: \"/dashboard/info\",\n    component: function component(props) {\n      return React.createElement(Info, _extends({}, props, {\n        user: user,\n        handleSubmit: handleSubmit,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 67\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 15\n    }\n  }), React.createElement(Route, {\n    path: \"/dashboard/orders\",\n    component: orders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 15\n    }\n  }))))))));\n}\n\nvar handleLogout = function handleLogout(props) {\n  removeUserSession();\n  props.history.push('/login');\n};\n\nvar settings = function settings(props) {\n  return React.createElement(\"div\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 10\n    }\n  }, \" this is settings page yeah\");\n};\n\nvar orders = function orders(props) {\n  return React.createElement(\"div\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 10\n    }\n  }, \" this is orders page yeah\");\n};\n\nexport default Dashboard;\n{}","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Dashboard.js"],"names":["React","useState","useEffect","getUser","removeUserSession","Link","BrowserRouter","NavLink","Switch","Route","Container","Row","Col","Button","Form","axios","Dashboard","props","user","setUser","loading","setLoading","error","setError","email","newMail","setNewMail","newPassword","setNewPassword","phoneNumber","newPhone","setNewPhone","taxID","newTaxID","setNewTaxID","name","newName","setNewName","surname","newSurname","setNewSurname","passRequired","setPassRequired","result","setResult","handleSubmit","e","preventDefault","value","d","password","phone","uid","console","log","method","url","data","then","res","success","catch","err","response","message","Info","textAlign","padding","width","paddingLeft","fontSize","fontWeight","marginBottom","event","target","marginTop","alignSelf","color","marginLeft","textDecoration","margin","role","history","push","marginRight","handleLogout","settings","orders"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getUser, removeUserSession } from '../utils/Common';\r\nimport { Link, BrowserRouter, NavLink, Switch, Route } from 'react-router-dom';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nfunction Dashboard(props) {\r\n  const [user, setUser] = useState(getUser())\r\n  const [loading, setLoading] = useState(false)\r\n  const [error,setError] = useState(null)\r\n  const [newMail, setNewMail] = useState(user.email);\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [newPhone, setNewPhone]  = useState(user.phoneNumber);\r\n  const [newTaxID, setNewTaxID] = useState(user.taxID);\r\n  const [newName, setNewName] = useState(user.name);\r\n  const [newSurname, setNewSurname] = useState(user.surname);\r\n  const [passRequired, setPassRequired] = useState('');\r\n  const [result, setResult] = useState('');\r\n\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if(newPassword.value == '') {\r\n      setPassRequired(\"Please enter your old password if you do not want to change your password.\")\r\n      \r\n    }\r\n    else {\r\n      setError(null);\r\n    setLoading(true);\r\n    setPassRequired('');\r\n    //console.log(this.state);\r\n    const d = {\r\n      password: newPassword,\r\n      name: newName,\r\n      surname: newSurname,\r\n      email: newMail,\r\n      phone: newPhone,\r\n      taxID: newTaxID,\r\n      uid: user.uid,\r\n    }\r\n    \r\n    console.log('sending request')\r\n    \r\n    axios({\r\n      method: 'post',\r\n      url: 'http://127.0.0.1:8000/api/changeuserinfo/',\r\n      data: d\r\n    })\r\n        .then(res => {\r\n          console.log(res.data);\r\n          \r\n          setResult(res.data.success)\r\n          setLoading(false);\r\n        })\r\n        .catch(err => {\r\n          if(err.response) {\r\n            setError(err.response.data)\r\n            console.log(err.response.data)\r\n          }\r\n          else {\r\n            setError(err.message)\r\n            console.log(err.message)\r\n          }\r\n          \r\n          setLoading(false);\r\n        })\r\n    }\r\n  }\r\n\r\n  const Info = (props) => {\r\n    const user = props.user;\r\n    \r\n    return(\r\n    <div style={{textAlign: 'center', padding: 10, width: '80%', paddingLeft: '19%'}}> \r\n      <p style={{fontSize: 22, fontWeight: 'bold', marginBottom: 40, textAlign: 'left'}}>{user.name} {user.surname}</p>\r\n      <div>\r\n        <div>\r\n          Email<br />\r\n          <input value={newMail} type=\"text\" onChange={(event) => setNewMail(event.target.value)}/>\r\n        </div>\r\n        <div>\r\n          Password<br />\r\n          <input placeholder={'Enter new password'} type=\"password\" value={newPassword} onChange={(event) => setNewPassword(event.target.value)}/>\r\n        </div>\r\n        <div>\r\n          Name<br />\r\n          <input value={newName} type=\"text\" onChange={(event) => setNewName(event.target.value)}/>\r\n        </div>\r\n        <div>\r\n          Surname<br />\r\n          <input value={newSurname} type=\"text\" onChange={(event) => setNewSurname(event.target.value)}/>\r\n        </div>\r\n        <div>\r\n          Phone Number<br />\r\n          <input value={newPhone} type=\"text\" onChange={(event) => setNewPhone(event.target.value)}/>\r\n        </div>\r\n        <div>\r\n          Tax ID<br />\r\n          <input value={newTaxID} type=\"text\" onChange={(event) => setNewTaxID(event.target.value)}/>\r\n        </div>\r\n      <Button type=\"submit\" style = {{marginTop: 40, alignSelf: 'center'}} onClick={handleSubmit} variant=\"dark\">Save Changes</Button><br />\r\n      </div>\r\n      \r\n      {passRequired && <><small style={{ color: 'red' }}>{passRequired}</small><br /></>}<br />\r\n  \r\n    </div>\r\n      )\r\n  }\r\n\r\n if(loading) {\r\n   return (<p>Loading...</p>)\r\n }\r\n \r\n  return (\r\n    <div>\r\n      <BrowserRouter>\r\n        <Container style={{marginLeft: 0}}>\r\n          <Row className = \"dashboard_container\">\r\n          <Col xl={2}>\r\n          <div className=\"dashboard_left_bar\">\r\n            <div className = \"bar_links\"> \r\n            <NavLink style={{ textDecoration: 'none', margin: 10 }} activeClassName=\"dashboard_bar_active\" to=\"/dashboard/info\"><i class=\"fas fa-user\"></i>   User Info</NavLink><br />\r\n            <NavLink style={{ textDecoration: 'none', margin: 10}} activeClassName=\"dashboard_bar_active\" to=\"/dashboard/orders\"><i class=\"fas fa-truck\"></i>   Orders</NavLink><br />\r\n            <NavLink style={{ textDecoration: 'none', margin: 10}} activeClassName=\"dashboard_bar_active\" to=\"/dashboard/settings\"><i class=\"fas fa-cog\"></i>   Settings</NavLink>\r\n            {user.role == \"productM\" && <><Button onClick={() =>props.history.push('/addproduct')}>Add Product!</Button><br /></>}\r\n            <Button style = {{marginTop: 350, marginBottom: 10, marginLeft: 10, marginRight: 10}} onClick={() => handleLogout(props)} variant=\"dark\">Log Out</Button>\r\n            </div>\r\n          </div>\r\n          </Col>\r\n          <Col xl={10}>\r\n          <div className=\"dashboard_content\">\r\n            <Switch>\r\n              <Route path=\"/dashboard/settings\" component={settings} />\r\n              <Route path=\"/dashboard/info\" component={(props) => <Info {...props} user={user} handleSubmit={handleSubmit} />} />\r\n              <Route path=\"/dashboard/orders\" component={orders} />\r\n            </Switch>\r\n          </div>\r\n          </Col>\r\n          </Row>\r\n        </Container>\r\n      </BrowserRouter>\r\n      \r\n    </div>\r\n  );\r\n}\r\nconst handleLogout = (props) => {\r\n  removeUserSession();\r\n  props.history.push('/login');\r\n}\r\n\r\nconst settings = (props) => {\r\n  return(<div> this is settings page yeah</div>)\r\n}\r\nconst orders = (props) => {\r\n  return(<div> this is orders page yeah</div>)\r\n}\r\n\r\n\r\nexport default Dashboard;\r\n\r\n{\r\n  /* Welcome {user.name}!<br /><br />\r\n      <input type=\"button\" onClick={() => handleLogout(props)} value=\"Logout\" /><br />\r\n      {user.role == \"productM\" && <><Link to=\"/addproduct\">Add Product!</Link><br /></>}\r\n      */\r\n}"]},"metadata":{},"sourceType":"module"}