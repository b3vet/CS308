{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/UserInfo.js\";\nimport React, { useState, useEffect } from 'react';\nimport { getUser, removeUserSession } from \"../utils/Common\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport axios from 'axios';\n\nfunction UserInfo(props) {\n  var _useState = useState(props.user),\n      _useState2 = _slicedToArray(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState(user.email),\n      _useState8 = _slicedToArray(_useState7, 2),\n      newMail = _useState8[0],\n      setNewMail = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      newPassword = _useState10[0],\n      setNewPassword = _useState10[1];\n\n  var _useState11 = useState(user.phoneNumber),\n      _useState12 = _slicedToArray(_useState11, 2),\n      newPhone = _useState12[0],\n      setNewPhone = _useState12[1];\n\n  var _useState13 = useState(user.taxID),\n      _useState14 = _slicedToArray(_useState13, 2),\n      newTaxID = _useState14[0],\n      setNewTaxID = _useState14[1];\n\n  var _useState15 = useState(user.name),\n      _useState16 = _slicedToArray(_useState15, 2),\n      newName = _useState16[0],\n      setNewName = _useState16[1];\n\n  var _useState17 = useState(user.surname),\n      _useState18 = _slicedToArray(_useState17, 2),\n      newSurname = _useState18[0],\n      setNewSurname = _useState18[1];\n\n  var _useState19 = useState(''),\n      _useState20 = _slicedToArray(_useState19, 2),\n      passRequired = _useState20[0],\n      setPassRequired = _useState20[1];\n\n  var _useState21 = useState(''),\n      _useState22 = _slicedToArray(_useState21, 2),\n      result = _useState22[0],\n      setResult = _useState22[1];\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    console.log(newPassword);\n\n    if (newPassword == '') {\n      setPassRequired(\"Please enter your old password if you do not want to change your password.\");\n    } else {\n      setError(null);\n      setLoading(true);\n      setPassRequired('');\n      var d = {\n        password: newPassword,\n        name: newName,\n        surname: newSurname,\n        email: newMail,\n        phone: newPhone,\n        taxID: newTaxID,\n        uid: user.uid\n      };\n      console.log('sending request');\n      axios({\n        method: 'post',\n        url: 'http://127.0.0.1:8000/api/changeuserinfo/',\n        data: d\n      }).then(function (res) {\n        console.log(res.data);\n        setResult(res.data.success);\n        setLoading(false);\n        setNewPassword('');\n      }).catch(function (err) {\n        if (err.response) {\n          setError(err.response.data);\n          console.log(err.response.data);\n        } else {\n          setError(err.message);\n          console.log(err.message);\n        }\n\n        setLoading(false);\n      });\n    }\n  };\n\n  if (loading) {\n    return React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"Loading...\");\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      padding: 10,\n      width: '80%',\n      paddingLeft: '19%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      fontSize: 22,\n      marginBottom: 40,\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 72\n    }\n  }, \"You can change your personal informations here \"), React.createElement(\"p\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 126\n    }\n  }, user.name, \" \", user.surname)), React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }, \"Email\"), React.createElement(Form.Control, {\n    value: newMail,\n    type: \"text\",\n    onChange: function onChange(event) {\n      return setNewMail(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }))), React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, \"Password\"), React.createElement(Form.Control, {\n    placeholder: 'Enter new password',\n    type: \"password\",\n    value: newPassword,\n    onChange: function onChange(event) {\n      return setNewPassword(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  })))), React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Name\"), React.createElement(Form.Control, {\n    value: newName,\n    type: \"text\",\n    onChange: function onChange(event) {\n      return setNewName(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }))), React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Surname\"), React.createElement(Form.Control, {\n    value: newSurname,\n    type: \"text\",\n    onChange: function onChange(event) {\n      return setNewSurname(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  })))), React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }\n  }, React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"Phone\"), React.createElement(Form.Control, {\n    value: newPhone,\n    type: \"text\",\n    onChange: function onChange(event) {\n      return setNewPhone(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }))), React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"Tax ID\"), React.createElement(Form.Control, {\n    value: newTaxID,\n    type: \"text\",\n    onChange: function onChange(event) {\n      return setNewTaxID(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  })))), React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }, React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, React.createElement(Button, {\n    type: \"submit\",\n    style: {\n      marginTop: 40,\n      alignSelf: 'center'\n    },\n    onClick: handleSubmit,\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, \"Save Changes\"), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 137\n    }\n  })))), result && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n    style: {\n      color: 'green'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 20\n    }\n  }, result), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 70\n    }\n  })), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 80\n    }\n  }), passRequired && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 26\n    }\n  }, passRequired), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 80\n    }\n  })), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 90\n    }\n  }));\n}\n\nexport default UserInfo;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/UserInfo.js"],"names":["React","useState","useEffect","getUser","removeUserSession","Container","Row","Col","Button","Form","axios","UserInfo","props","user","setUser","loading","setLoading","error","setError","email","newMail","setNewMail","newPassword","setNewPassword","phoneNumber","newPhone","setNewPhone","taxID","newTaxID","setNewTaxID","name","newName","setNewName","surname","newSurname","setNewSurname","passRequired","setPassRequired","result","setResult","handleSubmit","e","preventDefault","console","log","d","password","phone","uid","method","url","data","then","res","success","catch","err","response","message","textAlign","padding","width","paddingLeft","fontSize","marginBottom","fontWeight","event","target","value","marginTop","alignSelf","color"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getUser, removeUserSession } from '../utils/Common';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nfunction UserInfo(props) {\r\n    const [user, setUser] = useState(props.user)\r\n  const [loading, setLoading] = useState(false)\r\n  const [error,setError] = useState(null)\r\n  const [newMail, setNewMail] = useState(user.email);\r\n  const [newPassword, setNewPassword] = useState('');\r\n  const [newPhone, setNewPhone]  = useState(user.phoneNumber);\r\n  const [newTaxID, setNewTaxID] = useState(user.taxID);\r\n  const [newName, setNewName] = useState(user.name);\r\n  const [newSurname, setNewSurname] = useState(user.surname);\r\n  const [passRequired, setPassRequired] = useState('');\r\n  const [result, setResult] = useState('');\r\n\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(newPassword)\r\n    if(newPassword == '') {\r\n      setPassRequired(\"Please enter your old password if you do not want to change your password.\")\r\n      \r\n    }\r\n    else {\r\n      setError(null);\r\n    setLoading(true);\r\n    setPassRequired('');\r\n    //console.log(this.state);\r\n    const d = {\r\n      password: newPassword,\r\n      name: newName,\r\n      surname: newSurname,\r\n      email: newMail,\r\n      phone: newPhone,\r\n      taxID: newTaxID,\r\n      uid: user.uid,\r\n    }\r\n    \r\n    console.log('sending request')\r\n    \r\n    axios({\r\n      method: 'post',\r\n      url: 'http://127.0.0.1:8000/api/changeuserinfo/',\r\n      data: d\r\n    })\r\n        .then(res => {\r\n          console.log(res.data);\r\n          \r\n          setResult(res.data.success)\r\n          setLoading(false);\r\n          setNewPassword('')\r\n        })\r\n        .catch(err => {\r\n          if(err.response) {\r\n            setError(err.response.data)\r\n            console.log(err.response.data)\r\n          }\r\n          else {\r\n            setError(err.message)\r\n            console.log(err.message)\r\n          }\r\n          \r\n          setLoading(false);\r\n        })\r\n    }\r\n    }\r\n  \r\n\r\n    if(loading) {\r\n        return (<p>Loading...</p>)\r\n      }\r\n    \r\n    \r\n    return(\r\n    <div style={{textAlign: 'center', padding: 10, width: '80%', paddingLeft: '19%'}}> \r\n      <div style={{fontSize: 22, marginBottom: 40, textAlign: 'left'}}><p>You can change your personal informations here </p><p style={{fontWeight: 'bold'}}>{user.name} {user.surname}</p></div>\r\n      <Form>\r\n      <Form.Row>\r\n        <Col>\r\n          <Form.Group>\r\n            <Form.Label>Email</Form.Label>\r\n            <Form.Control value={newMail} type=\"text\" onChange={(event) => setNewMail(event.target.value)}/>\r\n          </Form.Group>\r\n        </Col>\r\n        <Col>\r\n          <Form.Group>\r\n            <Form.Label>Password</Form.Label>\r\n            <Form.Control placeholder={'Enter new password'} type=\"password\" value={newPassword} onChange={(event) => setNewPassword(event.target.value)}/>\r\n          </Form.Group>\r\n        </Col>\r\n      </Form.Row>\r\n      <Form.Row>\r\n        <Col>\r\n          <Form.Group>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control value={newName} type=\"text\" onChange={(event) => setNewName(event.target.value)}/>\r\n          </Form.Group>\r\n        </Col>\r\n        <Col>\r\n          <Form.Group>\r\n            <Form.Label>Surname</Form.Label>\r\n            <Form.Control value={newSurname} type=\"text\" onChange={(event) => setNewSurname(event.target.value)}/>\r\n          </Form.Group>\r\n        </Col>\r\n      </Form.Row>\r\n      <Form.Row>\r\n        <Col>\r\n          <Form.Group>\r\n            <Form.Label>Phone</Form.Label>\r\n            <Form.Control value={newPhone} type=\"text\" onChange={(event) => setNewPhone(event.target.value)}/>\r\n          </Form.Group>\r\n        </Col>\r\n        <Col>\r\n          <Form.Group>\r\n            <Form.Label>Tax ID</Form.Label>\r\n            <Form.Control value={newTaxID} type=\"text\" onChange={(event) => setNewTaxID(event.target.value)}/>\r\n          </Form.Group>\r\n        </Col>\r\n      </Form.Row>\r\n      <Form.Row>\r\n      <Col>\r\n        <Button type=\"submit\" style = {{marginTop: 40, alignSelf: 'center'}} onClick={handleSubmit} variant=\"dark\">Save Changes</Button><br />\r\n      </Col>\r\n      </Form.Row>\r\n      </Form>\r\n      {result && <><small style={{ color: 'green' }}>{result}</small><br /></>}<br />\r\n      {passRequired && <><small style={{ color: 'red' }}>{passRequired}</small><br /></>}<br />\r\n  \r\n    </div>\r\n      )\r\n  \r\n\r\n}\r\nexport default UserInfo;\r\n\r\n"]},"metadata":{},"sourceType":"module"}