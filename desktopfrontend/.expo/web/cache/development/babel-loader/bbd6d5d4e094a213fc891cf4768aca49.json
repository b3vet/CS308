{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/admin/salesManager/AddDiscount.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport DateTimePicker from 'react-datetime-picker';\nimport { Link } from 'react-router-dom';\n\nfunction AddDiscount(props) {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      ratio = _useState6[0],\n      setRatio = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      allProducts = _useState8[0],\n      setAllProducts = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedProducts = _useState10[0],\n      setSelectedProducts = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      discount = _useState12[0],\n      setDiscount = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      result = _useState14[0],\n      setResult = _useState14[1];\n\n  var _useState15 = useState(new Date()),\n      _useState16 = _slicedToArray(_useState15, 2),\n      start = _useState16[0],\n      setStart = _useState16[1];\n\n  var _useState17 = useState(new Date()),\n      _useState18 = _slicedToArray(_useState17, 2),\n      end = _useState18[0],\n      setEnd = _useState18[1];\n\n  var addOrRemoveProduct = function addOrRemoveProduct(e, pid) {\n    if (selectedProducts.includes(pid)) {\n      setSelectedProducts(selectedProducts.filter(function (item) {\n        return item !== pid;\n      }));\n    } else {\n      setSelectedProducts([].concat(_toConsumableArray(selectedProducts), [pid]));\n    }\n\n    console.log(selectedProducts);\n  };\n\n  var submit = function submit(e) {\n    setLoading(true);\n    console.log(selectedProducts);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/adddiscount/',\n      data: {\n        startDateTime: start,\n        products: selectedProducts,\n        endDateTime: end,\n        ratio: ratio\n      }\n    }).then(function (response) {\n      setResult(response.data.success);\n      setLoading(false);\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        console.log(error.response.status);\n        console.log(error.response.data.error);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n  };\n\n  useEffect(function () {\n    setLoading(true);\n    axios({\n      method: 'get',\n      url: 'http://127.0.0.1:8000/api/products/'\n    }).then(function (response) {\n      setAllProducts(response.data.products);\n      setLoading(false);\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        console.log(error.response.status);\n        setError(error.response.data.error);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n  }, []);\n\n  if (loading) {\n    return React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 16\n      }\n    }, \"Loading...\");\n  }\n\n  return React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      padding: 10,\n      width: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      fontSize: 22,\n      marginBottom: 40,\n      textAlign: 'left'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, React.createElement(\"p\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 78\n    }\n  }, \"Select products to apply to your new discount.\")), React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, allProducts.map(function (product) {\n    return React.createElement(React.Fragment, null, React.createElement(Form.Check, {\n      type: \"checkbox\",\n      onChange: function onChange(e) {\n        return addOrRemoveProduct(e, product.pid);\n      },\n      label: product.name + \"   \" + product.price + \"$\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 31\n      }\n    }), React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 165\n      }\n    }));\n  })), React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, \"Ratio\"), React.createElement(Form.Control, {\n    type: \"text\",\n    onChange: function onChange(event) {\n      return setRatio(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }), React.createElement(InputGroup.Append, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, React.createElement(InputGroup.Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, \"%\"))), React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  }, \"Start Date\"), React.createElement(DateTimePicker, {\n    value: start,\n    onChange: setStart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  })), React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 21\n    }\n  }, \"End Date\"), React.createElement(DateTimePicker, {\n    value: end,\n    onChange: setEnd,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  })), React.createElement(Button, {\n    onClick: function onClick(e) {\n      return submit(e);\n    },\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 17\n    }\n  }, \"Save Discount\")), result && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n    style: {\n      color: 'green'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 26\n    }\n  }, result), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 76\n    }\n  })), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 86\n    }\n  }), error && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, error), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 72\n    }\n  })), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 82\n    }\n  }));\n}\n\nexport default AddDiscount;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/admin/salesManager/AddDiscount.js"],"names":["React","useState","useEffect","axios","Button","Form","InputGroup","DateTimePicker","Link","AddDiscount","props","loading","setLoading","error","setError","ratio","setRatio","allProducts","setAllProducts","selectedProducts","setSelectedProducts","discount","setDiscount","result","setResult","Date","start","setStart","end","setEnd","addOrRemoveProduct","e","pid","includes","filter","item","console","log","submit","method","url","data","startDateTime","products","endDateTime","then","response","success","catch","status","message","textAlign","padding","width","fontSize","marginBottom","fontWeight","map","product","name","price","event","target","value","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport Button from 'react-bootstrap/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport InputGroup from 'react-bootstrap/InputGroup'\r\nimport DateTimePicker from 'react-datetime-picker'\r\n\r\nimport { Link } from 'react-router-dom';\r\nfunction AddDiscount(props) {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [ratio, setRatio] = useState(null);\r\n    const [allProducts, setAllProducts] = useState([])\r\n    const [selectedProducts, setSelectedProducts] = useState([])\r\n    const [discount, setDiscount] = useState(null)\r\n    const [result, setResult] = useState('')\r\n    const [start, setStart] = useState(new Date())\r\n    const [end, setEnd] = useState(new Date())\r\n    const addOrRemoveProduct = (e, pid) => {\r\n        if (selectedProducts.includes(pid)) {\r\n            setSelectedProducts(selectedProducts.filter(item => item !== pid))\r\n        }\r\n        else {\r\n            setSelectedProducts([ ...selectedProducts, pid ])\r\n        }\r\n        console.log(selectedProducts)\r\n    }\r\n    const submit = (e) => {\r\n        setLoading(true);\r\n        console.log(selectedProducts)\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://127.0.0.1:8000/api/adddiscount/',\r\n            data: {\r\n                startDateTime: start, \r\n                products: selectedProducts,\r\n                endDateTime: end,\r\n                ratio: ratio\r\n            },\r\n        }).then(\r\n            response => {\r\n                setResult(response.data.success)\r\n                setLoading(false);\r\n            }\r\n            ).catch(\r\n                error => {\r\n                    setLoading(false);\r\n                    if (error.response) {\r\n                        console.log(error.response.status);\r\n                        console.log(error.response.data.error);\r\n                    } else {\r\n                        console.log('Error', error.message);\r\n                    }\r\n                }\r\n                )\r\n    }\r\n    useEffect(() => {\r\n        \r\n        setLoading(true);\r\n        \r\n        axios({\r\n            method: 'get',\r\n            url: 'http://127.0.0.1:8000/api/products/',\r\n            \r\n        }).then(\r\n            response => {\r\n                setAllProducts(response.data.products)\r\n                setLoading(false);\r\n            }\r\n            ).catch(\r\n                error => {\r\n                    setLoading(false);\r\n                    if (error.response) {\r\n                        console.log(error.response.status);\r\n                        setError(error.response.data.error);\r\n                    } else {\r\n                        console.log('Error', error.message);\r\n                    }\r\n                }\r\n                )\r\n                \r\n                \r\n            }, [])\r\n            \r\n    if(loading) {\r\n        return(<div>Loading...</div>)\r\n    }\r\n    return (\r\n        <div style={{textAlign: 'center', padding: 10, width: '100%'}}> \r\n            <div style={{fontSize: 22, marginBottom: 40, textAlign: 'left'}}><p style={{fontWeight: 'bold'}}>Select products to apply to your new discount.</p></div>\r\n            <Form>\r\n                <Form.Group>\r\n                {\r\n                    allProducts.map((product) => {\r\n                        return(\r\n                            <><Form.Check type=\"checkbox\" onChange={(e) => addOrRemoveProduct(e, product.pid)} label={product.name + \"   \" + product.price + \"$\"} /><br /></>\r\n                        )\r\n                    })\r\n                }\r\n                </Form.Group>\r\n                <InputGroup>\r\n                    <Form.Label>Ratio</Form.Label>\r\n                    <Form.Control type=\"text\" onChange={(event) => setRatio(event.target.value)}/>\r\n                    <InputGroup.Append>\r\n                        <InputGroup.Text>%</InputGroup.Text>\r\n                    </InputGroup.Append>\r\n                </InputGroup>\r\n\r\n                <Form.Group>\r\n                    <Form.Label>Start Date</Form.Label>\r\n                    <DateTimePicker value={start} onChange={setStart}/>\r\n                </Form.Group>\r\n                \r\n                \r\n                <Form.Group>\r\n                    <Form.Label>End Date</Form.Label>\r\n                    <DateTimePicker value={end} onChange={setEnd}/>\r\n                </Form.Group>\r\n                \r\n                \r\n                <Button onClick = {(e) => submit(e)} variant = \"dark\">Save Discount</Button>\r\n                \r\n            </Form>\r\n            {result && <><small style={{ color: 'green' }}>{result}</small><br /></>}<br />\r\n            {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\r\n        </div>\r\n    )\r\n                \r\n                \r\n}\r\n                 \r\nexport default AddDiscount;\r\n "]},"metadata":{},"sourceType":"module"}