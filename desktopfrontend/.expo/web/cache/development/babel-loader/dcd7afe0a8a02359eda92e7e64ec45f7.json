{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Search.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Grid from '@material-ui/core/Grid';\n\nfunction Login(props) {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      query = _useState4[0],\n      setQuery = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      results = _useState8[0],\n      setResults = _useState8[1];\n\n  var handleSearch = function handleSearch(val) {\n    setQuery(val);\n    setError(null);\n    setLoading(true);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/search/',\n      data: {\n        query: query\n      }\n    }).then(function (response) {\n      setLoading(false);\n      setResults(response.data.results);\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        setError(error.response.status);\n      } else setError(error.message);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }, React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, \"Search\", React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }), React.createElement(\"input\", {\n    id: \"myInput\",\n    class: \"Search-Box\",\n    enabled: !loading,\n    type: \"text\",\n    value: query,\n    onSubmit: function onSubmit(event) {\n      return handleSearch(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })), loading && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Loading...\"), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 75\n    }\n  })), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 85\n    }\n  }), React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, results.map(function (product) {\n    return React.createElement(Grid, {\n      item: true,\n      xs: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, React.createElement(\"div\", {\n      class: \"Product-Single-Grid\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, React.createElement(Link, {\n      to: \"/product/\" + product.pid,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, React.createElement(\"img\", {\n      src: \"http://127.0.0.1:8000\" + product.image,\n      alt: \"Product's Image\",\n      style: {\n        height: 250,\n        width: 250\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 19\n      }\n    })), React.createElement(Link, {\n      className: \"nonActiveLink, productGridLink\",\n      to: \"/product/\" + product.pid,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, product.name), React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, product.price, \" \\u20BA\")));\n  }))));\n}\n\nvar useFormInput = function useFormInput(initialValue) {\n  var _useState9 = useState(initialValue),\n      _useState10 = _slicedToArray(_useState9, 2),\n      value = _useState10[0],\n      setValue = _useState10[1];\n\n  var handleChange = function handleChange(e) {\n    setValue(e.target.value);\n  };\n\n  return {\n    value: value,\n    onChange: handleChange\n  };\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Search.js"],"names":["React","useState","axios","Link","Grid","Login","props","loading","setLoading","query","setQuery","error","setError","results","setResults","handleSearch","val","method","url","data","then","response","catch","status","message","event","target","value","color","map","product","pid","image","height","width","name","price","useFormInput","initialValue","setValue","handleChange","e","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\nfunction Login(props) {\r\n  const [loading, setLoading] = useState(false);\r\n  //const username = useFormInput('');\r\n  //const password = useFormInput('');\r\n  const [query, setQuery] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [results, setResults] = useState([]);\r\n \r\n  // handle button click of login form\r\n  //post will change \r\n  //response may change\r\n  const handleSearch = (val) => {\r\n    setQuery(val);\r\n    setError(null);\r\n    setLoading(true);\r\n   axios({\r\n    method: 'post',\r\n    url: 'http://127.0.0.1:8000/api/search/',\r\n    data: {\r\n      query: query,\r\n    }\r\n  }).then(\r\n    response => {\r\n      setLoading(false);\r\n      setResults(response.data.results);\r\n    }\r\n  ).catch(\r\n    error => {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        setError(error.response.status)\r\n      }\r\n      else setError(error.message);\r\n    }\r\n  )\r\n  }\r\n \r\n  return (\r\n    <div>\r\n      \r\n      <div>\r\n        Search<br />\r\n        <input id=\"myInput\" class = \"Search-Box\" enabled={!loading} type=\"text\" value={query}  onSubmit={(event) => handleSearch(event.target.value)} />\r\n\r\n      </div>\r\n      {loading && <><small style={{ color: 'red' }}>{\"Loading...\"}</small><br /></>}<br />\r\n      <div>\r\n      <Grid container spacing={10}>\r\n          {\r\n          results.map((product) => (\r\n\r\n            <Grid item xs={3}>\r\n\r\n              <div class=\"Product-Single-Grid\">\r\n\r\n                <Link to={`/product/${product.pid}`}>  \r\n                  <img src={\"http://127.0.0.1:8000\"+product.image} alt = \"Product's Image\" style={{height: 250, width:250}}></img>\r\n                </Link>\r\n                <Link className=\"nonActiveLink, productGridLink\" to={`/product/${product.pid}`}>{product.name}</Link>\r\n                <p>{product.price} â‚º</p>\r\n              </div>\r\n\r\n            </Grid>\r\n\r\n          ))\r\n          }\r\n\r\n      </Grid>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n\r\n\r\n}\r\n \r\nconst useFormInput = initialValue => {\r\n  const [value, setValue] = useState(initialValue);\r\n \r\n  const handleChange = e => {\r\n    setValue(e.target.value);\r\n  }\r\n  return {\r\n    value,\r\n    onChange: handleChange\r\n  }\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}