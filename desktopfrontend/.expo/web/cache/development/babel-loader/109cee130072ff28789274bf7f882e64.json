{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Dashboard.js\",\n    _this2 = this;\n\nimport React, { useState, useEffect } from 'react';\nimport { getUser, removeUserSession } from \"../utils/Common\";\nimport { Link, BrowserRouter, NavLink, Switch, Route } from 'react-router-dom';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport axios from 'axios';\n\nvar useFormInput = function useFormInput(initialValue) {\n  var _useState = useState(initialValue),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var handleChange = function handleChange(e) {\n    setValue(e.target.value);\n  };\n\n  return {\n    value: value,\n    onChange: handleChange\n  };\n};\n\nfunction Dashboard(props) {\n  var _this = this;\n\n  var _useState3 = useState(getUser()),\n      _useState4 = _slicedToArray(_useState3, 2),\n      user = _useState4[0],\n      setUser = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      error = _useState8[0],\n      setError = _useState8[1];\n\n  var newMail = useFormInput(user.email);\n  var newPassword = useFormInput('');\n  var newPhone = useFormInput(user.phoneNumber);\n  var newTaxID = useFormInput(user.taxID);\n  var newName = useFormInput(user.name);\n  var newSurname = useFormInput(user.surname);\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      passRequired = _useState10[0],\n      setPassRequired = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      result = _useState12[0],\n      setResult = _useState12[1];\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n\n    if (newPassword.value == '') {\n      setPassRequired(\"Please enter your old password if you do not want to change your password.\");\n    } else {\n      setError(null);\n      setLoading(true);\n      setPassRequired('');\n      var d = {\n        password: newPassword.value,\n        name: newName.value,\n        surname: newSurname.value,\n        email: newMail.value,\n        phone: newPhone.value,\n        taxID: newTaxID.value,\n        uid: user.uid\n      };\n      console.log('sending request');\n      axios({\n        method: 'post',\n        url: 'http://127.0.0.1:8000/api/changeuserinfo/',\n        data: d\n      }).then(function (res) {\n        console.log(res.data);\n        setResult(res.data.success);\n        setLoading(false);\n      }).catch(function (err) {\n        if (err.response) {\n          setError(err.response.data);\n          console.log(err.response.data);\n        } else {\n          setError(err.message);\n          console.log(err.message);\n        }\n\n        setLoading(false);\n      });\n    }\n  };\n\n  var Info = function Info(props) {\n    var user = props.user;\n    return React.createElement(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: 10,\n        width: '80%',\n        paddingLeft: '19%'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }\n    }, React.createElement(\"p\", {\n      style: {\n        fontSize: 22,\n        fontWeight: 'bold',\n        marginBottom: 40,\n        textAlign: 'left'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, user.name, \" \", user.surname), React.createElement(Form, {\n      onSubmit: handleSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: 'left'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }\n    }, React.createElement(Row, {\n      style: {\n        marginBottom: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }\n    }, React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, React.createElement(Form.Label, {\n      style: {\n        fontSize: '14px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, \"Email\"), React.createElement(Form.Control, _extends({\n      defaultValue: newMail\n    }, newMail, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }))), React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, React.createElement(Form.Label, {\n      style: {\n        fontSize: '14px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, \"Password\"), React.createElement(Form.Control, _extends({\n      type: \"password\",\n      defaultValue: \"\",\n      placeholder: 'Enter new password'\n    }, newPassword, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    })))), React.createElement(Row, {\n      style: {\n        marginBottom: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }\n    }, React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, React.createElement(Form.Label, {\n      style: {\n        fontSize: '14px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, \"First Name\"), React.createElement(Form.Control, _extends({\n      defaultValue: newName\n    }, newName, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }))), React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, React.createElement(Form.Label, {\n      style: {\n        fontSize: '14px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 13\n      }\n    }, \"Last Name\"), React.createElement(Form.Control, _extends({\n      defaultValue: newSurname\n    }, newSurname, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    })))), React.createElement(Row, {\n      style: {\n        marginBottom: 10\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }\n    }, React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }\n    }, React.createElement(Form.Label, {\n      style: {\n        fontSize: '14px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }\n    }, \"Phone Number\"), React.createElement(Form.Control, _extends({\n      defaultValue: newPhone\n    }, newPhone, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }))), React.createElement(Col, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }, React.createElement(Form.Label, {\n      style: {\n        fontSize: '14px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, \"Tax ID\"), React.createElement(Form.Control, _extends({\n      defaultValue: newTaxID\n    }, newTaxID, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }))))), React.createElement(Button, {\n      type: \"submit\",\n      style: {\n        marginTop: 40,\n        alignSelf: 'center'\n      },\n      variant: \"dark\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }\n    }, \"Save Changes\"), React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 114\n      }\n    })), passRequired && React.createElement(React.Fragment, null, React.createElement(\"small\", {\n      style: {\n        color: 'red'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 26\n      }\n    }, passRequired), React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 80\n      }\n    })), React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 90\n      }\n    }));\n  };\n\n  if (loading) {\n    return React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n\n  return React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 5\n    }\n  }, React.createElement(BrowserRouter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, React.createElement(Container, {\n    style: {\n      marginLeft: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, React.createElement(Row, {\n    className: \"dashboard_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, React.createElement(Col, {\n    xl: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    className: \"dashboard_left_bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    className: \"bar_links\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }\n  }, React.createElement(NavLink, {\n    style: {\n      textDecoration: 'none',\n      margin: 10\n    },\n    activeClassName: \"dashboard_bar_active\",\n    to: \"/dashboard/info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 13\n    }\n  }, React.createElement(\"i\", {\n    class: \"fas fa-user\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 129\n    }\n  }), \"   User Info\"), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 178\n    }\n  }), React.createElement(NavLink, {\n    style: {\n      textDecoration: 'none',\n      margin: 10\n    },\n    activeClassName: \"dashboard_bar_active\",\n    to: \"/dashboard/orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, React.createElement(\"i\", {\n    class: \"fas fa-truck\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 130\n    }\n  }), \"   Orders\"), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 177\n    }\n  }), React.createElement(NavLink, {\n    style: {\n      textDecoration: 'none',\n      margin: 10\n    },\n    activeClassName: \"dashboard_bar_active\",\n    to: \"/dashboard/settings\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, React.createElement(\"i\", {\n    class: \"fas fa-cog\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 132\n    }\n  }), \"   Settings\"), React.createElement(Button, {\n    style: {\n      marginTop: 350,\n      marginBottom: 10,\n      marginLeft: 10,\n      marginRight: 10\n    },\n    onClick: function onClick() {\n      return handleLogout(props);\n    },\n    variant: \"dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, \"Log Out\")))), React.createElement(Col, {\n    xl: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, React.createElement(\"div\", {\n    className: \"dashboard_content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 11\n    }\n  }, React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }, React.createElement(Route, {\n    path: \"/dashboard/settings\",\n    component: settings,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }), React.createElement(Route, {\n    path: \"/dashboard/info\",\n    component: function component(props) {\n      return React.createElement(Info, _extends({}, props, {\n        user: user,\n        handleSubmit: handleSubmit,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 67\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }), React.createElement(Route, {\n    path: \"/dashboard/orders\",\n    component: orders,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 15\n    }\n  }))))))));\n}\n\nvar handleLogout = function handleLogout(props) {\n  removeUserSession();\n  props.history.push('/login');\n};\n\nvar settings = function settings(props) {\n  return React.createElement(\"div\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 10\n    }\n  }, \" this is settings page yeah\");\n};\n\nvar orders = function orders(props) {\n  return React.createElement(\"div\", {\n    __self: _this2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 10\n    }\n  }, \" this is orders page yeah\");\n};\n\nexport default Dashboard;\n{}","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Dashboard.js"],"names":["React","useState","useEffect","getUser","removeUserSession","Link","BrowserRouter","NavLink","Switch","Route","Container","Row","Col","Button","Form","axios","useFormInput","initialValue","value","setValue","handleChange","e","target","onChange","Dashboard","props","user","setUser","loading","setLoading","error","setError","newMail","email","newPassword","newPhone","phoneNumber","newTaxID","taxID","newName","name","newSurname","surname","passRequired","setPassRequired","result","setResult","handleSubmit","preventDefault","d","password","phone","uid","console","log","method","url","data","then","res","success","catch","err","response","message","Info","textAlign","padding","width","paddingLeft","fontSize","fontWeight","marginBottom","marginTop","alignSelf","color","marginLeft","textDecoration","margin","marginRight","handleLogout","settings","orders","history","push"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport { getUser, removeUserSession } from '../utils/Common';\r\nimport { Link, BrowserRouter, NavLink, Switch, Route } from 'react-router-dom';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Form from 'react-bootstrap/Form'\r\nimport axios from 'axios';\r\n\r\nconst useFormInput = initialValue => {\r\n  const [value, setValue] = useState(initialValue);\r\n \r\n  const handleChange = e => {\r\n    setValue(e.target.value);\r\n  }\r\n  return {\r\n    value,\r\n    onChange: handleChange\r\n  }\r\n}\r\n\r\nfunction Dashboard(props) {\r\n  \r\n  const [user, setUser] = useState(getUser())\r\n  const [loading, setLoading] = useState(false)\r\n  const [error,setError] = useState(null)\r\n  const newMail = useFormInput(user.email);\r\n  const newPassword = useFormInput('');\r\n  const newPhone = useFormInput(user.phoneNumber);\r\n  const newTaxID = useFormInput(user.taxID);\r\n  const newName = useFormInput(user.name);\r\n  const newSurname = useFormInput(user.surname);\r\n  const [passRequired, setPassRequired] = useState('');\r\n  const [result, setResult] = useState('');\r\n\r\n  \r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if(newPassword.value == '') {\r\n      setPassRequired(\"Please enter your old password if you do not want to change your password.\")\r\n      \r\n    }\r\n    else {\r\n      setError(null);\r\n    setLoading(true);\r\n    setPassRequired('');\r\n    //console.log(this.state);\r\n    const d = {\r\n      password: newPassword.value,\r\n      name: newName.value,\r\n      surname: newSurname.value,\r\n      email: newMail.value,\r\n      phone: newPhone.value,\r\n      taxID: newTaxID.value,\r\n      uid: user.uid,\r\n    }\r\n    \r\n    console.log('sending request')\r\n    \r\n    axios({\r\n      method: 'post',\r\n      url: 'http://127.0.0.1:8000/api/changeuserinfo/',\r\n      data: d\r\n    })\r\n        .then(res => {\r\n          console.log(res.data);\r\n          \r\n          setResult(res.data.success)\r\n          setLoading(false);\r\n        })\r\n        .catch(err => {\r\n          if(err.response) {\r\n            setError(err.response.data)\r\n            console.log(err.response.data)\r\n          }\r\n          else {\r\n            setError(err.message)\r\n            console.log(err.message)\r\n          }\r\n          \r\n          setLoading(false);\r\n        })\r\n    }\r\n  }\r\n\r\n  const Info = (props) => {\r\n    const user = props.user;\r\n    \r\n    return(\r\n    <div style={{textAlign: 'center', padding: 10, width: '80%', paddingLeft: '19%'}}> \r\n      <p style={{fontSize: 22, fontWeight: 'bold', marginBottom: 40, textAlign: 'left'}}>{user.name} {user.surname}</p>\r\n      <Form onSubmit={handleSubmit}>\r\n        <div style={{textAlign: 'left'}}>\r\n        <Row style={{marginBottom: 10}}>\r\n          <Col>\r\n            <Form.Label style={{fontSize: '14px'}}>Email</Form.Label>\r\n            <Form.Control defaultValue={newMail} {...newMail} />\r\n          </Col>\r\n          <Col>\r\n            <Form.Label style={{fontSize: '14px'}}>Password</Form.Label>\r\n            <Form.Control type=\"password\" defaultValue='' placeholder={'Enter new password'} {...newPassword}/>\r\n          </Col>\r\n        </Row>\r\n        <Row style={{marginBottom: 10}}>\r\n          <Col>\r\n            <Form.Label style={{fontSize: '14px'}}>First Name</Form.Label>\r\n            <Form.Control defaultValue={newName} {...newName}/>\r\n          </Col>\r\n          <Col>\r\n            <Form.Label style={{fontSize: '14px'}}>Last Name</Form.Label>\r\n            <Form.Control defaultValue={newSurname} {...newSurname}/>\r\n          </Col>\r\n        </Row>\r\n        <Row style={{marginBottom: 10}}>\r\n        <Col>\r\n            <Form.Label style={{fontSize: '14px'}}>Phone Number</Form.Label>\r\n            <Form.Control defaultValue={newPhone} {...newPhone}/>\r\n          </Col>\r\n          <Col>\r\n            <Form.Label style={{fontSize: '14px'}}>Tax ID</Form.Label>\r\n            <Form.Control defaultValue={newTaxID} {...newTaxID}/>\r\n          </Col>\r\n        </Row>\r\n        </div>\r\n        <Button type=\"submit\" style = {{marginTop: 40, alignSelf: 'center'}} variant=\"dark\">Save Changes</Button><br />\r\n      </Form>\r\n      \r\n      {passRequired && <><small style={{ color: 'red' }}>{passRequired}</small><br /></>}<br />\r\n  \r\n    </div>\r\n      )\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n if(loading) {\r\n   return (<p>Loading...</p>)\r\n }\r\n \r\n  return (\r\n    <div>\r\n      <BrowserRouter>\r\n        <Container style={{marginLeft: 0}}>\r\n          <Row className = \"dashboard_container\">\r\n          <Col xl={2}>\r\n          <div className=\"dashboard_left_bar\">\r\n            <div className = \"bar_links\"> \r\n            <NavLink style={{ textDecoration: 'none', margin: 10 }} activeClassName=\"dashboard_bar_active\" to=\"/dashboard/info\"><i class=\"fas fa-user\"></i>   User Info</NavLink><br />\r\n            <NavLink style={{ textDecoration: 'none', margin: 10}} activeClassName=\"dashboard_bar_active\" to=\"/dashboard/orders\"><i class=\"fas fa-truck\"></i>   Orders</NavLink><br />\r\n            <NavLink style={{ textDecoration: 'none', margin: 10}} activeClassName=\"dashboard_bar_active\" to=\"/dashboard/settings\"><i class=\"fas fa-cog\"></i>   Settings</NavLink>\r\n            \r\n            <Button style = {{marginTop: 350, marginBottom: 10, marginLeft: 10, marginRight: 10}} onClick={() => handleLogout(props)} variant=\"dark\">Log Out</Button>\r\n            </div>\r\n          </div>\r\n          </Col>\r\n          <Col xl={10}>\r\n          <div className=\"dashboard_content\">\r\n            <Switch>\r\n              <Route path=\"/dashboard/settings\" component={settings} />\r\n              <Route path=\"/dashboard/info\" component={(props) => <Info {...props} user={user} handleSubmit={handleSubmit} />} />\r\n              <Route path=\"/dashboard/orders\" component={orders} />\r\n            </Switch>\r\n          </div>\r\n          </Col>\r\n          </Row>\r\n        </Container>\r\n      </BrowserRouter>\r\n      \r\n    </div>\r\n  );\r\n}\r\nconst handleLogout = (props) => {\r\n  removeUserSession();\r\n  props.history.push('/login');\r\n}\r\n\r\nconst settings = (props) => {\r\n  return(<div> this is settings page yeah</div>)\r\n}\r\nconst orders = (props) => {\r\n  return(<div> this is orders page yeah</div>)\r\n}\r\n\r\n\r\nexport default Dashboard;\r\n\r\n{\r\n  /* Welcome {user.name}!<br /><br />\r\n      <input type=\"button\" onClick={() => handleLogout(props)} value=\"Logout\" /><br />\r\n      {user.role == \"productM\" && <><Link to=\"/addproduct\">Add Product!</Link><br /></>}\r\n      */\r\n}"]},"metadata":{},"sourceType":"module"}