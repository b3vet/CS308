{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Search.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Grid from '@material-ui/core/Grid';\nimport Button from 'react-bootstrap/Button';\nimport { Ripple } from 'react-spinners-css';\n\nfunction Login(props) {\n  var _this = this;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      query = _useState4[0],\n      setQuery = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      results = _useState8[0],\n      setResults = _useState8[1];\n\n  var handleSearch = function handleSearch(e) {\n    e.preventDefault();\n    setError(null);\n    setLoading(true);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/search/',\n      data: {\n        query: query\n      }\n    }).then(function (response) {\n      setLoading(false);\n      setResults(response.data.results);\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        setError(error.response.status);\n      } else setError(error.message);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, React.createElement(\"div\", {\n    class: \"Search-Field\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, React.createElement(\"i\", {\n    class: \"fas fa-search\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }), React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 38\n    }\n  }), React.createElement(\"form\", {\n    class: \"Search-Field-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, React.createElement(\"input\", {\n    enabled: !loading,\n    type: \"text\",\n    value: query,\n    onChange: function onChange(event) {\n      return setQuery(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    class: \"Search-Button\",\n    variant: \"dark\",\n    onClick: function onClick(event) {\n      handleSearch(event);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"Search\"))), loading ? React.createElement(\"div\", {\n    class: \"Product-Single-List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, React.createElement(\"div\", {\n    class: \"Product-Single-List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      marginTop: 180\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  }, React.createElement(Ripple, {\n    color: \"#111\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  })))) : React.createElement(\"div\", {\n    class: \"Product-Single-List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, React.createElement(\"div\", {\n    class: \"Product-Single-List\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, results.map(function (product) {\n    return React.createElement(Link, {\n      to: \"/product/\" + product.pid,\n      class: \"Product-Single-Item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, React.createElement(\"img\", {\n      src: \"http://127.0.0.1:8000\" + product.image,\n      alt: \"Product's Image\",\n      style: {\n        height: 180,\n        width: 180\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 19\n      }\n    }), React.createElement(Link, {\n      className: \"nonActiveLink, productGridLink\",\n      to: \"/product/\" + product.pid,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }, product.name), React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }, product.price, \" \\u20BA\"));\n  }))));\n}\n\nvar useFormInput = function useFormInput(initialValue) {\n  var _useState9 = useState(initialValue),\n      _useState10 = _slicedToArray(_useState9, 2),\n      value = _useState10[0],\n      setValue = _useState10[1];\n\n  var handleChange = function handleChange(e) {\n    setValue(e.target.value);\n  };\n\n  return {\n    value: value,\n    onChange: handleChange\n  };\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/Search.js"],"names":["React","useState","axios","Link","Grid","Button","Ripple","Login","props","loading","setLoading","query","setQuery","error","setError","results","setResults","handleSearch","e","preventDefault","method","url","data","then","response","catch","status","message","event","target","value","display","flexDirection","alignItems","justifyContent","marginTop","map","product","pid","image","height","width","name","price","useFormInput","initialValue","setValue","handleChange","onChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Ripple } from 'react-spinners-css';\r\nfunction Login(props) {\r\n  const [loading, setLoading] = useState(false);\r\n  //const username = useFormInput('');\r\n  //const password = useFormInput('');\r\n  const [query, setQuery] = useState('');\r\n  const [error, setError] = useState(null);\r\n  const [results, setResults] = useState([]);\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    setError(null);\r\n    setLoading(true);\r\n   axios({\r\n    method: 'post',\r\n    url: 'http://127.0.0.1:8000/api/search/',\r\n    data: {\r\n      query: query,\r\n    }\r\n  }).then(\r\n    response => {\r\n      setLoading(false);\r\n      setResults(response.data.results);\r\n    }\r\n  ).catch(\r\n    error => {\r\n      setLoading(false);\r\n      if (error.response) {\r\n        setError(error.response.status)\r\n      }\r\n      else setError(error.message);\r\n    }\r\n  )\r\n  }\r\n \r\n  return (\r\n    <div>\r\n      \r\n      <div class=\"Search-Field\">\r\n        <i class=\"fas fa-search\"></i><br />\r\n        <form class=\"Search-Field-1\">\r\n        <input enabled={!loading} type=\"text\" value={query} onChange={(event) => setQuery(event.target.value)}/>\r\n        <Button class = \"Search-Button\" variant = \"dark\" onClick={(event) => {handleSearch(event)}}>Search</Button>\r\n        </form>\r\n\r\n      </div>\r\n      {loading ? \r\n        <div class=\"Product-Single-List\">\r\n      <div class=\"Product-Single-List\">\r\n              <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', marginTop: 180}}>\r\n                <Ripple color=\"#111\" />\r\n              </div>\r\n              </div></div>\r\n              :\r\n      <div class=\"Product-Single-List\">\r\n      <div class=\"Product-Single-List\">\r\n\r\n          {\r\n          results.map((product) => (\r\n              <Link to={`/product/${product.pid}`} class=\"Product-Single-Item\">  \r\n                  <img src={\"http://127.0.0.1:8000\"+product.image} alt = \"Product's Image\" style={{height: 180, width:180}}></img>\r\n                <Link className=\"nonActiveLink, productGridLink\" to={`/product/${product.pid}`}>{product.name}</Link>\r\n                <p>{product.price} â‚º</p>\r\n              </Link>\r\n          ))\r\n          }\r\n      \r\n          </div>\r\n      </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n \r\nconst useFormInput = initialValue => {\r\n  const [value, setValue] = useState(initialValue);\r\n \r\n  const handleChange = e => {\r\n    setValue(e.target.value);\r\n  }\r\n  return {\r\n    value,\r\n    onChange: handleChange\r\n  }\r\n}\r\n \r\nexport default Login;"]},"metadata":{},"sourceType":"module"}