{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/AllProducts.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport \"../css/Products.css\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { Ripple } from 'react-spinners-css';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      marginRight: \"50px\",\n      marginLeft: \"50px\"\n    }\n  };\n});\n\nfunction AllProducts(props) {\n  var _this = this;\n\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      products = _useState4[0],\n      setProducts = _useState4[1];\n\n  var _useState5 = useState(-1),\n      _useState6 = _slicedToArray(_useState5, 2),\n      caid = _useState6[0],\n      setCaid = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      category = _useState8[0],\n      setCategory = _useState8[1];\n\n  var _useState9 = useState('old'),\n      _useState10 = _slicedToArray(_useState9, 2),\n      selectedValue = _useState10[0],\n      setSelectedValue = _useState10[1];\n\n  var maxPrice = useFormInput('');\n  var minPrice = useFormInput('');\n\n  var _useState11 = useState(\"all\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      color = _useState12[0],\n      setColor = _useState12[1];\n\n  var _useState13 = useState(\"all\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      material = _useState14[0],\n      setMaterial = _useState14[1];\n\n  var order = function order(ord) {\n    setSelectedValue(ord);\n\n    if (ord == \"incPrc\") {\n      products.sort(function (a, b) {\n        return a.discountPrice > b.discountPrice ? 1 : a.discountPrice === b.discountPrice ? a.name > b.name ? 1 : -1 : -1;\n      });\n    } else if (ord == \"decPrc\") {\n      products.sort(function (a, b) {\n        return a.discountPrice < b.discountPrice ? 1 : a.discountPrice === b.discountPrice ? a.name > b.name ? 1 : -1 : -1;\n      });\n    } else if (ord == \"old\") {\n      products.sort(function (a, b) {\n        return a.pid > b.pid ? 1 : a.pid === b.pid ? a.name > b.name ? 1 : -1 : -1;\n      });\n    } else if (ord == \"new\") {\n      products.sort(function (a, b) {\n        return a.pid < b.pid ? 1 : a.pid === b.pid ? a.name > b.name ? 1 : -1 : -1;\n      });\n    } else if (ord == \"rating\") {\n      products.sort(function (a, b) {\n        return a.totalRating > b.totalRating ? 1 : a.totalRating === b.totalRating ? a.name > b.name ? 1 : -1 : -1;\n      });\n    }\n  };\n\n  var filter = function filter(e) {\n    e.preventDefault();\n    setLoading(true);\n    console.log(\"maxprice is \" + maxPrice + \"min price is \" + minPrice);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/filteredproductsbycategory/',\n      data: {\n        caid: props.match.params.caid,\n        minPrice: minPrice.value == '' ? 0 : minPrice.value,\n        maxPrice: maxPrice.value == '' ? 100000 : maxPrice.value,\n        color: color,\n        material: material\n      }\n    }).then(function (response) {\n      setProducts(response.data.products);\n      setLoading(false);\n      console.log(products);\n    }).then(function () {\n      return order(selectedValue);\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        console.log(error.response.data);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n  };\n\n  var resetFilters = function resetFilters() {\n    setLoading(true);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/productsbycategory/',\n      data: {\n        caid: props.match.params.caid\n      }\n    }).then(function (response) {\n      setProducts(response.data.products);\n      setLoading(false);\n      minPrice.change('');\n      maxPrice.change('');\n      setColor(\"all\");\n      setMaterial(\"all\");\n      order('old');\n    }).catch(function (error) {\n      setLoading(false);\n\n      if (error.response) {\n        console.log(error.response.data);\n        console.log(error.response.status);\n        console.log(error.response.headers);\n      } else {\n        console.log('Error', error.message);\n      }\n    });\n  };\n\n  useEffect(function () {\n    setLoading(true);\n    setCaid(props.match.params.caid);\n    axios({\n      method: 'post',\n      url: 'http://127.0.0.1:8000/api/productsbycategory/',\n      data: {\n        caid: props.match.params.caid\n      }\n    }).then(function (response) {\n      setProducts(response.data.products);\n      setLoading(false);\n      minPrice.change('');\n      maxPrice.change('');\n      setColor(\"all\");\n      setMaterial(\"all\");\n    }).catch(function (error) {\n      setLoading(false);\n    });\n\n    if (props.match.params.caid == 4) {\n      setCategory(\"WEDDING RINGS\");\n    } else if (props.match.params.caid == 5) {\n      setCategory(\"ENGAGEMENT RINGS\");\n    } else if (props.match.params.caid == 6) {\n      setCategory(\"NECKLACES\");\n    } else if (props.match.params.caid == 7) {\n      setCategory(\"BRACELETS\");\n    } else if (props.match.params.caid == 8) {\n      setCategory(\"EARRINGS\");\n    }\n  }, []);\n\n  if (loading) {\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        marginTop: 300\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 7\n      }\n    }, React.createElement(Ripple, {\n      color: \"#111\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    return React.createElement(\"div\", {\n      class: \"Product-Category-Page-Container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 5\n      }\n    }, React.createElement(\"div\", {\n      class: \"Filter-Box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 7\n      }\n    }, React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }\n    }, React.createElement(\"header\", {\n      class: \"Filter-Box-Header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }\n    }, \"Material\"), React.createElement(\"div\", {\n      class: \"Type-Filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }\n    }, React.createElement(\"fieldset\", {\n      id: \"group2\",\n      onChange: function onChange(e) {\n        return setMaterial(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }\n    }, React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      class: \"Type-Filter-Box\",\n      name: \"group2\",\n      value: \"18K GOLD\",\n      checked: material === \"18K GOLD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }), React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 13\n      }\n    }, \"18K Gold\")), React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"group2\",\n      value: \"14K GOLD\",\n      checked: material === \"14K GOLD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 13\n      }\n    }), React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, \"14K Gold\")), React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"group2\",\n      value: \"10K GOLD\",\n      checked: material === \"10K GOLD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }), React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, \"10K Gold\")))), React.createElement(\"header\", {\n      class: \"Filter-Box-Header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }\n    }, \"Price Range\"), React.createElement(\"div\", {\n      class: \"d-flex align-items-center mt-4 pb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }\n    }, React.createElement(\"div\", {\n      class: \"md-form md-outline my-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", _extends({}, minPrice, {\n      id: \"from\",\n      type: \"text\",\n      class: \"form-control mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 13\n      }\n    })), React.createElement(\"label\", {\n      for: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, \"$ Min\")), React.createElement(\"p\", {\n      class: \"px-2 mb-0 text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 11\n      }\n    }, \" - \"), React.createElement(\"div\", {\n      class: \"md-form md-outline my-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", _extends({}, maxPrice, {\n      id: \"to\",\n      type: \"text\",\n      class: \"form-control mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    })), React.createElement(\"label\", {\n      for: \"to\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }, \"$ Max\"))), React.createElement(\"header\", {\n      class: \"Filter-Box-Header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }\n    }, \"Colors\"), React.createElement(\"div\", {\n      class: \"Color-Filters\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }\n    }, React.createElement(\"fieldset\", {\n      id: \"group1\",\n      onChange: function onChange(e) {\n        return setColor(e.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }\n    }, React.createElement(\"div\", {\n      class: \"Color-Filter-3  Color-Filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      class: \"Color-Filter-1\",\n      name: \"group1\",\n      value: \"ROSE\",\n      checked: color === \"ROSE\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }\n    }), React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }\n    }, \"Rose\")), React.createElement(\"div\", {\n      class: \"Color-Filter-4  Color-Filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      class: \"Color-Filter-1\",\n      name: \"group1\",\n      value: \"SILVER\",\n      checked: color === \"SILVER\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }\n    }), React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 11\n      }\n    }, \"Silver\")), React.createElement(\"div\", {\n      class: \"Color-Filter-5  Color-Filter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    }, React.createElement(\"input\", {\n      type: \"radio\",\n      class: \"Color-Filter-1\",\n      name: \"group1\",\n      value: \"GOLD\",\n      checked: color === \"GOLD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }\n    }), React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }\n    }, \"Gold\")))), React.createElement(\"button\", {\n      style: {\n        marginRight: 5\n      },\n      type: \"button\",\n      onClick: function onClick(e) {\n        filter(e);\n      },\n      class: \"Filter-Button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }\n    }, \"Apply\"), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: function onClick(e) {\n        resetFilters(e);\n      },\n      class: \"Filter-Button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }\n    }, \"Reset\"))), React.createElement(\"div\", {\n      className: classes.root,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 7\n      }\n    }, React.createElement(\"p\", {\n      class: \"products-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 7\n      }\n    }, category), React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 50\n      }\n    }), React.createElement(\"div\", {\n      style: {\n        width: '100%',\n        height: 25\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 7\n      }\n    }, React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }\n    }, React.createElement(Row, {\n      className: \"Order-Row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }\n    }, React.createElement(Col, {\n      className: \"orderByButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 13\n      }\n    }, \"Order By:\"), React.createElement(Col, {\n      onClick: function onClick() {\n        order('incPrc');\n      },\n      className: selectedValue !== 'incPrc' ? \"orderByButton\" : \"selectedOrderByButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 13\n      }\n    }, \"Increasing Price\"), React.createElement(Col, {\n      onClick: function onClick() {\n        order('decPrc');\n      },\n      className: selectedValue !== 'decPrc' ? \"orderByButton\" : \"selectedOrderByButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 13\n      }\n    }, \"Decreasing Price\"), React.createElement(Col, {\n      onClick: function onClick() {\n        order('new');\n      },\n      className: selectedValue !== 'new' ? \"orderByButton\" : \"selectedOrderByButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 13\n      }\n    }, \"Newest First\"), React.createElement(Col, {\n      onClick: function onClick() {\n        order('old');\n      },\n      className: selectedValue !== 'old' ? \"orderByButton\" : \"selectedOrderByButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 13\n      }\n    }, \"Oldest First\"), React.createElement(Col, {\n      onClick: function onClick() {\n        order('rating');\n      },\n      className: selectedValue !== 'rating' ? \"orderByButton\" : \"selectedOrderByButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 13\n      }\n    }, \"Most Rating\")))), React.createElement(Grid, {\n      container: true,\n      spacing: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 7\n      }\n    }, products.map(function (product) {\n      return React.createElement(Grid, {\n        item: true,\n        xs: 3,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }\n      }, React.createElement(Link, {\n        to: \"/product/\" + product.pid,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 17\n        }\n      }, React.createElement(\"img\", {\n        src: \"http://127.0.0.1:8000\" + product.image,\n        alt: \"Product's Image\",\n        style: {\n          height: 250,\n          width: 250\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 19\n        }\n      })), React.createElement(Link, {\n        className: \"nonActiveLink, productGridLink\",\n        to: \"/product/\" + product.pid,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 17\n        }\n      }, product.name), product.price === product.discountPrice ? React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          fontSize: 18,\n          textAlign: 'right'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 60\n        }\n      }, product.price, \" \\u20BA\") : React.createElement(\"div\", {\n        style: {\n          display: 'flex',\n          textAlign: 'right'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 150\n        }\n      }, React.createElement(\"p\", {\n        style: {\n          color: 'red',\n          textDecoration: 'line-through',\n          flex: 1,\n          marginRight: -120\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 201\n        }\n      }, product.price, \"$  \"), React.createElement(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          fontSize: 18,\n          flex: 1\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 309\n        }\n      }, product.discountPrice, \"$\")));\n    }))));\n  }\n}\n\nvar useFormInput = function useFormInput(initialValue) {\n  var _useState15 = useState(initialValue),\n      _useState16 = _slicedToArray(_useState15, 2),\n      value = _useState16[0],\n      setValue = _useState16[1];\n\n  var handleChange = function handleChange(e) {\n    setValue(e.target.value);\n  };\n\n  return {\n    value: value,\n    onChange: handleChange,\n    change: function change(val) {\n      return setValue(val);\n    }\n  };\n};\n\nexport default AllProducts;","map":{"version":3,"sources":["/Users/atakansarac/Desktop/CS308/newrepo/desktopfrontend/src/pages/AllProducts.js"],"names":["React","useState","useEffect","axios","Container","Row","Col","Button","Ripple","Link","makeStyles","Grid","useStyles","theme","root","flexGrow","marginRight","marginLeft","AllProducts","props","classes","loading","setLoading","products","setProducts","caid","setCaid","category","setCategory","selectedValue","setSelectedValue","maxPrice","useFormInput","minPrice","color","setColor","material","setMaterial","order","ord","sort","a","b","discountPrice","name","pid","totalRating","filter","e","preventDefault","console","log","method","url","data","match","params","value","then","response","catch","error","message","resetFilters","change","status","headers","display","flexDirection","alignItems","justifyContent","marginTop","target","width","height","map","product","image","price","fontWeight","fontSize","textAlign","textDecoration","flex","initialValue","setValue","handleChange","onChange","val"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport '../css/Products.css';\r\nimport Container from 'react-bootstrap/Container'\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Button from 'react-bootstrap/Button'\r\nimport { Ripple } from 'react-spinners-css';\r\nimport { Link } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    marginRight: \"50px\",\r\n    marginLeft: \"50px\"\r\n  },\r\n}));\r\n\r\nfunction AllProducts(props) {\r\n    const classes = useStyles();\r\n    const [loading, setLoading] = useState(false)\r\n    \r\n    const [products, setProducts] = useState([])\r\n    const [caid, setCaid] = useState(-1)\r\n    const [category, setCategory] = useState(\"\")\r\n    const [selectedValue, setSelectedValue] = useState('old')\r\n    const maxPrice = useFormInput('');\r\n    const minPrice = useFormInput('');\r\n    const [color, setColor] = useState(\"all\");\r\n    const [material, setMaterial] = useState(\"all\");\r\n\r\n    const order = (ord) => {\r\n      setSelectedValue(ord)\r\n      if(ord == \"incPrc\") {\r\n        products.sort((a, b) => (a.discountPrice > b.discountPrice) ? 1 : (a.discountPrice === b.discountPrice) ? ((a.name > b.name) ? 1 : -1) : -1 )\r\n      }\r\n      else if (ord == \"decPrc\") {\r\n        products.sort((a, b) => (a.discountPrice < b.discountPrice) ? 1 : (a.discountPrice === b.discountPrice) ? ((a.name > b.name) ? 1 : -1) : -1 )\r\n      }\r\n      else if(ord == \"old\") {\r\n        products.sort((a, b) => (a.pid > b.pid) ? 1 : (a.pid === b.pid) ? ((a.name > b.name) ? 1 : -1) : -1 )\r\n      }\r\n      else if(ord == \"new\") {\r\n        products.sort((a, b) => (a.pid < b.pid) ? 1 : (a.pid === b.pid) ? ((a.name > b.name) ? 1 : -1) : -1 )\r\n      }\r\n      else if(ord == \"rating\") {\r\n        products.sort((a, b) => (a.totalRating > b.totalRating) ? 1 : (a.totalRating === b.totalRating) ? ((a.name > b.name) ? 1 : -1) : -1 )\r\n      }\r\n      \r\n    }\r\n\r\n    const filter = (e) => {\r\n      e.preventDefault();\r\n      setLoading(true)\r\n      console.log(\"maxprice is \" + maxPrice + \"min price is \" + minPrice)\r\n      axios({\r\n        method: 'post',\r\n        url: 'http://127.0.0.1:8000/api/filteredproductsbycategory/',\r\n        data: {\r\n          caid: props.match.params.caid,\r\n          minPrice: minPrice.value == '' ? 0 : minPrice.value,\r\n          maxPrice: maxPrice.value == '' ? 100000 : maxPrice.value,\r\n          color: color,\r\n          material: material\r\n        },\r\n      })\r\n      .then(\r\n        response => {\r\n          setProducts(response.data.products);\r\n          setLoading(false);\r\n          console.log(products)\r\n      })\r\n      .then(() => order(selectedValue))\r\n      .catch(\r\n        error => {\r\n          setLoading(false);\r\n          if (error.response) {\r\n              console.log(error.response.data);      \r\n          } else {\r\n             console.log('Error', error.message);\r\n            }\r\n        }\r\n      )\r\n      \r\n    }\r\n    const resetFilters = () => {\r\n      setLoading(true)\r\n      axios({\r\n        method: 'post',\r\n        url: 'http://127.0.0.1:8000/api/productsbycategory/',\r\n        data: {caid:props.match.params.caid},\r\n      }).then(\r\n        response => {\r\n          setProducts(response.data.products);\r\n          setLoading(false);\r\n          minPrice.change('')\r\n              maxPrice.change('')\r\n              setColor(\"all\")\r\n              setMaterial(\"all\")\r\n              order('old')\r\n        }\r\n        ).catch(\r\n          error => {\r\n            setLoading(false);\r\n            if (error.response) {\r\n                console.log(error.response.data);\r\n                console.log(error.response.status);\r\n                console.log(error.response.headers);\r\n            } else {\r\n                console.log('Error', error.message);\r\n            }\r\n          }\r\n          )\r\n      \r\n    }\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        setCaid(props.match.params.caid);\r\n        axios({\r\n            method: 'post',\r\n            url: 'http://127.0.0.1:8000/api/productsbycategory/',\r\n            data: {\r\n              caid: props.match.params.caid\r\n            }\r\n          }).then(\r\n            response => {\r\n              //console.log(response.data)\r\n              setProducts(response.data.products);\r\n              setLoading(false);\r\n              minPrice.change('')\r\n              maxPrice.change('')\r\n              setColor(\"all\")\r\n              setMaterial(\"all\")\r\n            }\r\n          ).catch(\r\n            error => {\r\n              setLoading(false);\r\n              //if (error.response.status === 401) //setError(error.response.data.message);\r\n              //else //setError(\"Something went wrong. Please try again later.\");\r\n            }\r\n          )\r\n          if (props.match.params.caid == 4) {\r\n            setCategory(\"WEDDING RINGS\")\r\n          }\r\n          else if (props.match.params.caid == 5) {\r\n            setCategory(\"ENGAGEMENT RINGS\")\r\n          }\r\n          else if (props.match.params.caid == 6) {\r\n            setCategory(\"NECKLACES\")\r\n          }\r\n          else if (props.match.params.caid == 7) {\r\n            setCategory(\"BRACELETS\")\r\n          }\r\n          else if (props.match.params.caid == 8) {\r\n            setCategory(\"EARRINGS\")\r\n          }\r\n    }, [])\r\n\r\n\r\n    //console.log(products);\r\n    //const productsArray = JSON.parse(products);\r\n\r\n    if(loading) {\r\n      return(\r\n      <div style={{display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', marginTop: 300}}>\r\n        <Ripple color=\"#111\" />\r\n      </div>\r\n      )\r\n    }\r\n    else {\r\n    return (\r\n      \r\n    <div class=\"Product-Category-Page-Container\">\r\n    \r\n      <div class = \"Filter-Box\">\r\n        <form>\r\n        <header class = \"Filter-Box-Header\">Material</header>\r\n\r\n        <div class = \"Type-Filter\">\r\n          <fieldset id=\"group2\" onChange={(e) => setMaterial(e.target.value)}>\r\n          <div>\r\n            <input type=\"radio\" class=\"Type-Filter-Box\" name=\"group2\" value=\"18K GOLD\" checked={material===\"18K GOLD\"}/>\r\n            <label>18K Gold</label>\r\n          </div>\r\n\r\n          <div>\r\n            <input type=\"radio\"  name=\"group2\" value=\"14K GOLD\" checked={material===\"14K GOLD\"}/>\r\n            <label>14K Gold</label>\r\n          </div>\r\n\r\n          <div>\r\n            <input type=\"radio\"  name=\"group2\" value=\"10K GOLD\" checked={material===\"10K GOLD\"}/>\r\n            <label>10K Gold</label>\r\n          </div>\r\n          </fieldset>\r\n        </div>\r\n        <header class = \"Filter-Box-Header\">Price Range</header>\r\n\r\n      \r\n        <div class=\"d-flex align-items-center mt-4 pb-1\">\r\n          <div class=\"md-form md-outline my-0\">\r\n            <input {...minPrice} id=\"from\" type=\"text\" class=\"form-control mb-0\"/>\r\n            <label for=\"form\">$ Min</label>\r\n          </div>\r\n          <p class=\"px-2 mb-0 text-muted\"> - </p>\r\n          <div class=\"md-form md-outline my-0\">\r\n            <input {...maxPrice} id=\"to\" type=\"text\" class=\"form-control mb-0\"/>\r\n            <label for=\"to\">$ Max</label>\r\n          </div>\r\n        </div>\r\n      \r\n\r\n        <header class = \"Filter-Box-Header\">Colors</header>\r\n        \r\n        <div class=\"Color-Filters\">\r\n        <fieldset id=\"group1\" onChange={(e) => setColor(e.target.value)}>\r\n\r\n          <div class=\"Color-Filter-3  Color-Filter\">\r\n          <input type=\"radio\" class=\"Color-Filter-1\" name=\"group1\" value=\"ROSE\" checked={color===\"ROSE\"}/>\r\n          <label>Rose</label>\r\n          </div>\r\n          \r\n\r\n          <div class=\"Color-Filter-4  Color-Filter\">\r\n          <input type=\"radio\" class=\"Color-Filter-1\" name=\"group1\" value=\"SILVER\" checked={color===\"SILVER\"}/>\r\n          <label>Silver</label>\r\n          </div>\r\n\r\n          <div class=\"Color-Filter-5  Color-Filter\">\r\n          <input type=\"radio\" class=\"Color-Filter-1\" name=\"group1\" value=\"GOLD\" checked={color===\"GOLD\"}/>\r\n          <label>Gold</label>\r\n          </div>\r\n        </fieldset>\r\n        </div>\r\n        \r\n\r\n        <button  style={{marginRight: 5}} type=\"button\" onClick = {(e) => {filter(e)}} class = \"Filter-Button\">Apply</button>\r\n        <button type=\"button\" onClick = {(e) => {resetFilters(e)}} class = \"Filter-Button\">Reset</button>\r\n        </form>\r\n    </div>\r\n    \r\n      \r\n      <div className={classes.root}>\r\n      <p class = \"products-header\">{category}</p><br></br>\r\n      <div style={{width: '100%', height: 25}}>\r\n        <Container>\r\n          <Row className=\"Order-Row\">\r\n            <Col className=\"orderByButton\">Order By:</Col>\r\n            <Col onClick={() => {order('incPrc')}} className={selectedValue !== 'incPrc' ? \"orderByButton\" : \"selectedOrderByButton\"}>Increasing Price</Col>\r\n            <Col onClick={() => {order('decPrc')}} className={selectedValue !== 'decPrc' ? \"orderByButton\" : \"selectedOrderByButton\"}>Decreasing Price</Col>\r\n            <Col onClick={() => {order('new')}} className={selectedValue !== 'new' ? \"orderByButton\" : \"selectedOrderByButton\"}>Newest First</Col>\r\n            <Col onClick={() => {order('old')}} className={selectedValue !== 'old' ? \"orderByButton\" : \"selectedOrderByButton\"}>Oldest First</Col>\r\n            <Col onClick={() => {order('rating')}} className={selectedValue !== 'rating' ? \"orderByButton\" : \"selectedOrderByButton\"}>Most Rating</Col>\r\n            \r\n          </Row>\r\n        </Container>\r\n      </div>\r\n      <Grid container spacing={10}>\r\n          {\r\n          products.map((product) => (\r\n\r\n            <Grid item xs={3}>\r\n\r\n              \r\n\r\n                <Link to={`/product/${product.pid}`}>  \r\n                  <img src={\"http://127.0.0.1:8000\"+product.image} alt = \"Product's Image\" style={{height: 250, width:250}}></img>\r\n                </Link>\r\n                <Link className=\"nonActiveLink, productGridLink\" to={`/product/${product.pid}`}>{product.name}</Link>\r\n                {product.price === product.discountPrice ? <p style={{fontWeight: 'bold', fontSize: 18, textAlign: 'right'}}>{product.price} â‚º</p> : <div style={{display: 'flex', textAlign: 'right'}}><p style={{color: 'red', textDecoration: 'line-through', flex: 1, marginRight: -120}}>{product.price}$  </p><p style={{fontWeight: 'bold', fontSize: 18, flex: 1}}>{product.discountPrice}$</p></div>}\r\n              \r\n\r\n            </Grid>\r\n\r\n          ))\r\n          }\r\n\r\n      </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n  }\r\n}\r\nconst useFormInput = initialValue => {\r\n  const [value, setValue] = useState(initialValue);\r\n \r\n  const handleChange = e => {\r\n    setValue(e.target.value);\r\n  }\r\n  return {\r\n    value,\r\n    onChange: handleChange,\r\n    change: (val) => setValue(val) \r\n  }\r\n}\r\n\r\n\r\nexport default AllProducts;\r\n"]},"metadata":{},"sourceType":"module"}